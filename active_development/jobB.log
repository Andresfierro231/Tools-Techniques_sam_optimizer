=== [JOB B] Iteration 1 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (365, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (365, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fbf2bd57-545a-438e-9637-c67d9dd08141
  timestamp_start: 2025-12-02T08:41:50Z
  timestamp_end: 2025-12-02T08:42:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52231655991636
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e1a52b38-d38d-4501-94e7-ea7a94c3c54e
  timestamp_start: 2025-12-02T08:42:30Z
  timestamp_end: 2025-12-02T08:44:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.06535354896914
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 55416f28-f425-47c0-91c2-ffc67b5c343c
  timestamp_start: 2025-12-02T08:44:53Z
  timestamp_end: 2025-12-02T08:47:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.27023878798354
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 2 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (377, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (377, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ad63ad38-38ed-493a-9d04-edf0776dee64
  timestamp_start: 2025-12-02T08:47:19Z
  timestamp_end: 2025-12-02T08:49:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.709724717075
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: da1fef76-8e7f-4775-9917-a9ae89c411d7
  timestamp_start: 2025-12-02T08:49:43Z
  timestamp_end: 2025-12-02T08:50:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.269940829020925
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 06386be4-7336-4186-8354-c5cb5b5f47f3
  timestamp_start: 2025-12-02T08:50:22Z
  timestamp_end: 2025-12-02T08:52:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.65996434201952
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 3 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (389, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (389, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2f257bbf-021f-4fc5-8bb1-f0bde621b356
  timestamp_start: 2025-12-02T08:52:49Z
  timestamp_end: 2025-12-02T08:55:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.2219373009866
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dc02c8f5-0d60-4d1f-909b-af4369e93d62
  timestamp_start: 2025-12-02T08:55:15Z
  timestamp_end: 2025-12-02T08:57:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.66649737302214
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 39e59838-72f1-4914-8e19-5fdd3a79af37
  timestamp_start: 2025-12-02T08:57:41Z
  timestamp_end: 2025-12-02T09:00:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.6667317909887
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 4 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (410, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (410, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9d2f9591-d1fd-4843-9326-ea2cfb9a4d30
  timestamp_start: 2025-12-02T09:00:09Z
  timestamp_end: 2025-12-02T09:00:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57064104301389
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fa304268-96e7-4a70-829c-a1b725598666
  timestamp_start: 2025-12-02T09:00:48Z
  timestamp_end: 2025-12-02T09:01:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.671574215986766
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 80a054d5-0c53-406e-8071-02cb640854c7
  timestamp_start: 2025-12-02T09:01:28Z
  timestamp_end: 2025-12-02T09:03:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.91282173106447
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 5 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (423, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (423, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c8dae581-65ed-4fe4-94ef-dd9f78a37591
  timestamp_start: 2025-12-02T09:03:55Z
  timestamp_end: 2025-12-02T09:06:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.26170686702244
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6ffce62a-6744-4186-9fbd-a1c92850559c
  timestamp_start: 2025-12-02T09:06:19Z
  timestamp_end: 2025-12-02T09:08:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.8169281759765
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b4ef98b2-18ca-4606-b53f-65f3f32da0ad
  timestamp_start: 2025-12-02T09:08:43Z
  timestamp_end: 2025-12-02T09:11:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.17722537892405
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 6 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (448, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (448, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e984389b-67d2-4ebe-b6b9-a861d65673ec
  timestamp_start: 2025-12-02T09:11:11Z
  timestamp_end: 2025-12-02T09:13:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.0166346699698
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8fa272a9-4d3b-4a5a-8b25-ee17444fd03b
  timestamp_start: 2025-12-02T09:13:36Z
  timestamp_end: 2025-12-02T09:15:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.3191456189379
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f7749cd3-4938-4f87-b166-1fd614ed4d6b
  timestamp_start: 2025-12-02T09:15:59Z
  timestamp_end: 2025-12-02T09:18:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.87258889700752
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 7 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (474, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (474, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: df9d551a-498c-4262-ae90-2ace87de2d1e
  timestamp_start: 2025-12-02T09:18:28Z
  timestamp_end: 2025-12-02T09:19:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.573920667986386
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e7c64fa3-2a7f-4a1f-8464-3c54523cbefb
  timestamp_start: 2025-12-02T09:19:08Z
  timestamp_end: 2025-12-02T09:19:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57578804099467
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 82eaa146-ffa5-40f1-8690-82edf19abeb6
  timestamp_start: 2025-12-02T09:19:48Z
  timestamp_end: 2025-12-02T09:22:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.82659593899734
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 8 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (487, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (487, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 060cdb16-ec82-4b2d-aaaa-550db5ecd646
  timestamp_start: 2025-12-02T09:22:17Z
  timestamp_end: 2025-12-02T09:24:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.0197603360284
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5a746258-884a-4aac-883a-b6e46f260fec
  timestamp_start: 2025-12-02T09:24:42Z
  timestamp_end: 2025-12-02T09:27:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.96217039600015
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b78e19df-d8b5-4282-b708-71e0f7d48117
  timestamp_start: 2025-12-02T09:27:07Z
  timestamp_end: 2025-12-02T09:27:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.972605018061586
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 9 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (507, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (507, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fd02b2dc-f46b-4729-a2e4-326408f2f645
  timestamp_start: 2025-12-02T09:27:50Z
  timestamp_end: 2025-12-02T09:30:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.6128190269228
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 20fb9195-ecaa-4758-9147-a95533eb7f2a
  timestamp_start: 2025-12-02T09:30:15Z
  timestamp_end: 2025-12-02T09:32:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.57038364803884
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: da03bf1d-843d-46a3-87eb-83e0206a2098
  timestamp_start: 2025-12-02T09:32:39Z
  timestamp_end: 2025-12-02T09:35:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.77299882704392
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 10 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (532, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (532, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4c1b7a4e-e1fc-42ea-96b0-3a26a22b5d3d
  timestamp_start: 2025-12-02T09:35:08Z
  timestamp_end: 2025-12-02T09:37:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.86418499902356
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1389aa78-0a48-4871-aca1-82b0a0930290
  timestamp_start: 2025-12-02T09:37:32Z
  timestamp_end: 2025-12-02T09:40:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 147.11445089103654
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 14e2e5de-4970-49ed-8b35-0eff8c1b1c61
  timestamp_start: 2025-12-02T09:40:00Z
  timestamp_end: 2025-12-02T09:42:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.5598695910303
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 11 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (559, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (559, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4ce5217b-bd28-435d-b895-f9b8a46f3648
  timestamp_start: 2025-12-02T09:42:27Z
  timestamp_end: 2025-12-02T09:43:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47118462994695
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b7d54db3-8204-4e9d-b142-6149fa042061
  timestamp_start: 2025-12-02T09:43:06Z
  timestamp_end: 2025-12-02T09:45:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.90846853505354
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e549c72c-f487-4108-8810-ed76db24826a
  timestamp_start: 2025-12-02T09:45:30Z
  timestamp_end: 2025-12-02T09:46:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.472589812008664
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 12 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 34

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (571, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (571, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 07260903-f66a-4223-972f-1fb968bab150
  timestamp_start: 2025-12-02T09:46:13Z
  timestamp_end: 2025-12-02T09:48:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.7700837419834
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2c9db806-0389-4fa7-9ce1-7fbe3ef377fb
  timestamp_start: 2025-12-02T09:48:39Z
  timestamp_end: 2025-12-02T09:51:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.5096286139451
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f90dd9dc-d43d-46ea-9723-49a6861e35c8
  timestamp_start: 2025-12-02T09:51:02Z
  timestamp_end: 2025-12-02T09:53:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.76099589595105
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 13 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (597, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (597, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e4c24cbb-e44b-4f90-a50c-93ce1c3dc8c6
  timestamp_start: 2025-12-02T09:53:28Z
  timestamp_end: 2025-12-02T09:55:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.31910933402833
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: aca6b34f-aa30-47c5-ad96-f306ce81fb00
  timestamp_start: 2025-12-02T09:55:53Z
  timestamp_end: 2025-12-02T09:58:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3203195000533
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0193bb91-fa4d-41ed-b902-f27952d1be5e
  timestamp_start: 2025-12-02T09:58:18Z
  timestamp_end: 2025-12-02T10:00:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.56782189803198
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 14 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (622, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (622, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5977e3b5-4d8d-4719-9b82-2ab7cb40806a
  timestamp_start: 2025-12-02T10:00:44Z
  timestamp_end: 2025-12-02T10:01:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62203909899108
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 67556d58-56ec-495f-8339-fc1359457024
  timestamp_start: 2025-12-02T10:01:23Z
  timestamp_end: 2025-12-02T10:02:03Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.87281252397224
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6f3aca56-d431-4cc9-896c-aa1544120ad5
  timestamp_start: 2025-12-02T10:02:03Z
  timestamp_end: 2025-12-02T10:04:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.46995212999173
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 15 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (635, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (635, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4035cde6-6b00-4573-abae-4f44705587c0
  timestamp_start: 2025-12-02T10:04:32Z
  timestamp_end: 2025-12-02T10:06:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.86404783499893
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 20b80a4d-e141-4305-975d-fc4592f5b859
  timestamp_start: 2025-12-02T10:06:58Z
  timestamp_end: 2025-12-02T10:09:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.36419303598814
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 60bd57e2-0bae-43bd-895e-674caa766341
  timestamp_start: 2025-12-02T10:09:23Z
  timestamp_end: 2025-12-02T10:11:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.6687674750574
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 16 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (660, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (660, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 090eef23-81fb-41d1-a130-635b1e286f93
  timestamp_start: 2025-12-02T10:11:51Z
  timestamp_end: 2025-12-02T10:14:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.81634775409475
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bb1eb759-7716-4804-8636-7cff07c53f8d
  timestamp_start: 2025-12-02T10:14:17Z
  timestamp_end: 2025-12-02T10:14:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77109276806004
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4bf59f92-c30f-4eec-8fcc-f25695a7e8bb
  timestamp_start: 2025-12-02T10:14:57Z
  timestamp_end: 2025-12-02T10:17:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.46608138701413
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 17 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (677, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (677, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ecce38d0-34fa-4a67-9fa7-90542053481e
  timestamp_start: 2025-12-02T10:17:24Z
  timestamp_end: 2025-12-02T10:19:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.9616869550664
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0219ca72-9973-4423-a319-fb01470f95e1
  timestamp_start: 2025-12-02T10:19:49Z
  timestamp_end: 2025-12-02T10:22:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.66443094902206
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bb6c2e4b-e90c-4f0a-b3f9-c76349143b89
  timestamp_start: 2025-12-02T10:22:12Z
  timestamp_end: 2025-12-02T10:24:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.361388713005
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 18 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (695, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (695, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1aba3f11-a7cd-4e3e-8258-bfbe741a619d
  timestamp_start: 2025-12-02T10:24:39Z
  timestamp_end: 2025-12-02T10:27:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.61082604900002
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5f9fd728-1d2f-4add-b6a5-b191ab9be4b7
  timestamp_start: 2025-12-02T10:27:04Z
  timestamp_end: 2025-12-02T10:29:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.46840495697688
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5e94fe24-360c-4c62-bc69-ca0fef4fcdbc
  timestamp_start: 2025-12-02T10:29:27Z
  timestamp_end: 2025-12-02T10:31:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.069529834087
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 19 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (715, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (715, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 60f23e69-45c8-42ce-a794-f7d92b7cf003
  timestamp_start: 2025-12-02T10:31:55Z
  timestamp_end: 2025-12-02T10:34:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.87074072798714
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 79ceba32-530e-47dc-8438-b11517d7d0d1
  timestamp_start: 2025-12-02T10:34:20Z
  timestamp_end: 2025-12-02T10:36:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.66294373001438
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3366afec-1c7b-4a44-a99e-929397c7f2bc
  timestamp_start: 2025-12-02T10:36:46Z
  timestamp_end: 2025-12-02T10:39:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.8651668629609
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 20 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (733, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (733, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b3b7ba32-4bc0-47c7-ada6-481ac7811cdc
  timestamp_start: 2025-12-02T10:39:16Z
  timestamp_end: 2025-12-02T10:41:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.14713578298688
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6da4cebd-829e-4640-81ef-0acbf5bf2dc5
  timestamp_start: 2025-12-02T10:41:41Z
  timestamp_end: 2025-12-02T10:44:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.6275359870633
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1c5689a4-9e1a-4d28-9f38-4d6f863104b1
  timestamp_start: 2025-12-02T10:44:05Z
  timestamp_end: 2025-12-02T10:46:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.29350569506641
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 21 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (755, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (755, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 56e7dc1b-f3a6-4d25-a32b-10dc2a52cfc5
  timestamp_start: 2025-12-02T10:46:32Z
  timestamp_end: 2025-12-02T10:48:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.31627589301206
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: af9bb871-80e1-46b7-b19c-e9d4cbedb0e9
  timestamp_start: 2025-12-02T10:48:56Z
  timestamp_end: 2025-12-02T10:49:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77112402394414
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 17607463-ba5a-4713-aa3e-46e3cd6f75f1
  timestamp_start: 2025-12-02T10:49:36Z
  timestamp_end: 2025-12-02T10:50:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.82423872302752
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 22 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (768, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (768, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b495d599-44b9-45ba-901c-76379bad8c22
  timestamp_start: 2025-12-02T10:50:19Z
  timestamp_end: 2025-12-02T10:50:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.925271081971005
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6146f1bf-6e4c-45e1-baea-d5f827ea5ad2
  timestamp_start: 2025-12-02T10:50:59Z
  timestamp_end: 2025-12-02T10:51:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.82174432894681
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5ef3f2b2-670d-48bc-89aa-ad65c63c105a
  timestamp_start: 2025-12-02T10:51:39Z
  timestamp_end: 2025-12-02T10:54:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.61574092891533
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 23 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (782, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (782, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fd0b18dc-c442-4540-8632-a60a85e5114c
  timestamp_start: 2025-12-02T10:54:09Z
  timestamp_end: 2025-12-02T10:56:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.83178881497588
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e1245c9c-6a68-4990-a172-f86286e67235
  timestamp_start: 2025-12-02T10:56:35Z
  timestamp_end: 2025-12-02T10:57:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77208523999434
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 02ef71f1-e6a6-4e1d-b070-5149d2721e1f
  timestamp_start: 2025-12-02T10:57:15Z
  timestamp_end: 2025-12-02T10:57:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.174095000955276
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 24 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (795, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (795, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ccb2ef8e-7fae-4275-aed2-f8bf7493b8a6
  timestamp_start: 2025-12-02T10:57:59Z
  timestamp_end: 2025-12-02T10:58:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.82918944209814
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e1394ed9-b7e6-4d3a-9866-77348a18add7
  timestamp_start: 2025-12-02T10:58:38Z
  timestamp_end: 2025-12-02T11:01:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.56360214704182
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4ff7ea2d-4a00-409f-9b73-5b7f25d32fd9
  timestamp_start: 2025-12-02T11:01:04Z
  timestamp_end: 2025-12-02T11:03:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.07224855292588
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 25 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (816, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (816, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 72806d73-379e-4d42-8d55-1dd79271af43
  timestamp_start: 2025-12-02T11:03:32Z
  timestamp_end: 2025-12-02T11:04:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.739218640024774
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 34fef747-4751-489c-bd9c-882f7d5242e1
  timestamp_start: 2025-12-02T11:04:12Z
  timestamp_end: 2025-12-02T11:04:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.83034245693125
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 080abdcb-5fe7-4d78-bdd9-b31b2bb31d2c
  timestamp_start: 2025-12-02T11:04:52Z
  timestamp_end: 2025-12-02T11:05:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77363841200713
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 26 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (823, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (823, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b1c538fe-1073-4956-b2e3-9854fa7881e8
  timestamp_start: 2025-12-02T11:05:35Z
  timestamp_end: 2025-12-02T11:06:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.67452282400336
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5a815ba9-14d9-469d-8a42-2338a63936ae
  timestamp_start: 2025-12-02T11:06:15Z
  timestamp_end: 2025-12-02T11:08:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.12356415495742
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 59627409-8840-4dbd-bf55-0cc9538d9102
  timestamp_start: 2025-12-02T11:08:39Z
  timestamp_end: 2025-12-02T11:11:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.04354467999656
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 27 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (843, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (843, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9b612a5b-879f-4883-9352-5466f716d55c
  timestamp_start: 2025-12-02T11:11:09Z
  timestamp_end: 2025-12-02T11:11:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.47635466803331
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 578654f1-bb53-43b0-a119-dc025e1b87e8
  timestamp_start: 2025-12-02T11:11:49Z
  timestamp_end: 2025-12-02T11:12:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.881628033006564
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0805fcb2-6579-4336-8e96-c29e38a9d698
  timestamp_start: 2025-12-02T11:12:29Z
  timestamp_end: 2025-12-02T11:13:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.636032702052034
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 28 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (850, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (850, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dca0c49e-f53e-4a55-87ce-5918f1f34646
  timestamp_start: 2025-12-02T11:13:12Z
  timestamp_end: 2025-12-02T11:13:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72505851299502
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 52ebaba0-e23e-4a48-a1cb-b08bb1cd3fd5
  timestamp_start: 2025-12-02T11:13:52Z
  timestamp_end: 2025-12-02T11:14:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77458119194489
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1029c600-2023-4140-ad32-6b098280588a
  timestamp_start: 2025-12-02T11:14:32Z
  timestamp_end: 2025-12-02T11:16:54Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.86987866391428
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 29 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (863, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (863, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 52bf8389-cae5-418e-b593-e7050fa2a92e
  timestamp_start: 2025-12-02T11:16:58Z
  timestamp_end: 2025-12-02T11:19:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.26836422702763
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6d5d9412-ffa8-4130-8175-32c3c91480c0
  timestamp_start: 2025-12-02T11:19:22Z
  timestamp_end: 2025-12-02T11:21:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.15846229309682
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5cf1cc2d-f1a4-4d0b-820d-8833b0889cdd
  timestamp_start: 2025-12-02T11:21:46Z
  timestamp_end: 2025-12-02T11:24:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.07224803499412
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 30 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (889, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (889, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 755af35f-ead8-4bba-8b94-bed649f0c769
  timestamp_start: 2025-12-02T11:24:14Z
  timestamp_end: 2025-12-02T11:24:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62057338806335
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6e954480-c389-4ed0-9124-75d9c4a20dcb
  timestamp_start: 2025-12-02T11:24:53Z
  timestamp_end: 2025-12-02T11:25:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 41.0470518959919
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6dbe3d5b-936b-4ae0-97de-db2c8143a98a
  timestamp_start: 2025-12-02T11:25:34Z
  timestamp_end: 2025-12-02T11:28:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.54430886392947
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 31 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (902, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (902, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3d682256-f705-44b9-b8b5-d121a91fb723
  timestamp_start: 2025-12-02T11:28:03Z
  timestamp_end: 2025-12-02T11:30:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.1226975870086
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2511f574-20ec-48c1-a94a-d288f0f51cc1
  timestamp_start: 2025-12-02T11:30:28Z
  timestamp_end: 2025-12-02T11:32:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.91090825304855
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 02518492-5aaf-4533-bd78-853e7fc6cc96
  timestamp_start: 2025-12-02T11:32:51Z
  timestamp_end: 2025-12-02T11:33:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.628348732949235
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 32 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (921, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (921, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: faaa71f2-6ce3-4f03-be72-13ea5b4b89a5
  timestamp_start: 2025-12-02T11:33:35Z
  timestamp_end: 2025-12-02T11:34:14Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52806088200305
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fec0b1bb-6f80-4cd5-b70e-00de788107ea
  timestamp_start: 2025-12-02T11:34:14Z
  timestamp_end: 2025-12-02T11:36:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.77184483001474
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 971eb21e-f86e-4628-93a6-1b111fd59da6
  timestamp_start: 2025-12-02T11:36:39Z
  timestamp_end: 2025-12-02T11:39:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.37108796602115
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 33 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (940, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (940, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 678a2886-effd-47e6-bc50-268ae23bb94f
  timestamp_start: 2025-12-02T11:39:09Z
  timestamp_end: 2025-12-02T11:41:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.86662862298544
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a6933cf4-6d1a-4ab8-afb0-6ea6e470b768
  timestamp_start: 2025-12-02T11:41:31Z
  timestamp_end: 2025-12-02T11:42:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.480431340052746
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 10dd5e2b-7641-4e3a-a3f0-c55977c1125f
  timestamp_start: 2025-12-02T11:42:11Z
  timestamp_end: 2025-12-02T11:42:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.422284222906455
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 34 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (953, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (953, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9113b7d4-b6c0-48e2-9d92-a5d5da0778fd
  timestamp_start: 2025-12-02T11:42:54Z
  timestamp_end: 2025-12-02T11:45:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.2287150969496
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5ea85293-8f6f-427e-b145-e8363df771ab
  timestamp_start: 2025-12-02T11:45:19Z
  timestamp_end: 2025-12-02T11:47:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.6143114810111
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0a0e612b-d50c-475b-bcd0-81067c89fdab
  timestamp_start: 2025-12-02T11:47:45Z
  timestamp_end: 2025-12-02T11:50:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.71955132996663
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 35 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (979, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (979, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 259adb53-dffa-4310-ad43-aa36e829d5de
  timestamp_start: 2025-12-02T11:50:13Z
  timestamp_end: 2025-12-02T11:50:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.577648687991314
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8872dccf-1896-4be4-8760-0daccf995047
  timestamp_start: 2025-12-02T11:50:52Z
  timestamp_end: 2025-12-02T11:51:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.484989044955
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 85864a43-4333-468f-870e-0edb4ca4c5d9
  timestamp_start: 2025-12-02T11:51:32Z
  timestamp_end: 2025-12-02T11:53:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.1775588199962
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 36 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (992, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (992, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f30c4f9e-7e61-4803-8313-83e2a7d99c4a
  timestamp_start: 2025-12-02T11:54:00Z
  timestamp_end: 2025-12-02T11:56:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.33941283088643
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c2c209e2-8ad4-4c0d-b497-7b12d3778e2f
  timestamp_start: 2025-12-02T11:56:26Z
  timestamp_end: 2025-12-02T11:57:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.893726698937826
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 13b4404e-7bd7-489d-8d94-bf2603a928aa
  timestamp_start: 2025-12-02T11:57:06Z
  timestamp_end: 2025-12-02T11:57:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.942488012020476
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 37 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1005, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1005, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 27b87e32-86f2-4910-a67b-1b6c52c0c7b4
  timestamp_start: 2025-12-02T11:57:49Z
  timestamp_end: 2025-12-02T12:00:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.55639052588958
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 01ba3220-893a-4725-8d58-f61178b5f0d9
  timestamp_start: 2025-12-02T12:00:13Z
  timestamp_end: 2025-12-02T12:02:37Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.0920312879607
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 43465b5e-56cb-4bd8-aa35-21c0d274d39b
  timestamp_start: 2025-12-02T12:02:37Z
  timestamp_end: 2025-12-02T12:05:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.43274839106016
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 38 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1031, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1031, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: afb0eeaa-1118-453c-b90c-f36b4d54c673
  timestamp_start: 2025-12-02T12:05:06Z
  timestamp_end: 2025-12-02T12:05:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42395398998633
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 39cdd2f8-c914-4748-85bd-bc48a7e49dde
  timestamp_start: 2025-12-02T12:05:45Z
  timestamp_end: 2025-12-02T12:06:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.63590368500445
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3a4e8256-02b4-4c6c-b153-513688dfea82
  timestamp_start: 2025-12-02T12:06:25Z
  timestamp_end: 2025-12-02T12:07:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.425380193046294
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 39 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1039, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1039, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 05516709-5299-44c3-8a5c-0147ce9f532c
  timestamp_start: 2025-12-02T12:07:08Z
  timestamp_end: 2025-12-02T12:09:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.5113782249391
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e0462a30-eea6-4d38-a032-93db1d45c330
  timestamp_start: 2025-12-02T12:09:33Z
  timestamp_end: 2025-12-02T12:11:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.78481125901453
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b9ee7b6e-7a26-4a0f-b83c-633854b79ca9
  timestamp_start: 2025-12-02T12:11:58Z
  timestamp_end: 2025-12-02T12:12:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 41.09915544500109
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 40 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1058, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1058, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9534a971-52ee-4528-88fc-df769832584f
  timestamp_start: 2025-12-02T12:12:43Z
  timestamp_end: 2025-12-02T12:15:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.28987368301023
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 465aa871-c851-43fe-b4af-39ba066e57ae
  timestamp_start: 2025-12-02T12:15:08Z
  timestamp_end: 2025-12-02T12:17:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.63855554990005
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 526c91ea-d489-48f4-9493-af9e6f657c3b
  timestamp_start: 2025-12-02T12:17:32Z
  timestamp_end: 2025-12-02T12:19:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.11436148092616
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 41 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1083, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1083, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8ad65cbf-4b15-4eb2-8441-4cf8ad446560
  timestamp_start: 2025-12-02T12:20:00Z
  timestamp_end: 2025-12-02T12:22:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.87947891000658
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e040b022-6fe3-407b-8a8d-ad981f340d1d
  timestamp_start: 2025-12-02T12:22:25Z
  timestamp_end: 2025-12-02T12:24:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.51646061695646
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8c0631ac-fd30-4da5-aebf-bf43e3a9413e
  timestamp_start: 2025-12-02T12:24:49Z
  timestamp_end: 2025-12-02T12:27:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.46726143197156
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 42 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1108, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1108, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c509b8de-61a0-45b2-95d3-adee359a97a4
  timestamp_start: 2025-12-02T12:27:16Z
  timestamp_end: 2025-12-02T12:29:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.61637142300606
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cbc27122-06ca-4f34-8829-153bfa225fbd
  timestamp_start: 2025-12-02T12:29:39Z
  timestamp_end: 2025-12-02T12:32:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.22113334794994
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 89d0ff26-1e7d-4fe8-8ca0-8b5d2cc1b40f
  timestamp_start: 2025-12-02T12:32:05Z
  timestamp_end: 2025-12-02T12:32:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.825984173920006
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 43 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1128, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1128, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 77e229c6-3f18-4a35-ba0a-f22d6c11fba7
  timestamp_start: 2025-12-02T12:32:49Z
  timestamp_end: 2025-12-02T12:33:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.672909470973536
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 003ae945-e4bf-41af-960d-650696f427ba
  timestamp_start: 2025-12-02T12:33:28Z
  timestamp_end: 2025-12-02T12:34:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77608139591757
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 63979aa9-6b92-4589-b225-d1fc9db648df
  timestamp_start: 2025-12-02T12:34:08Z
  timestamp_end: 2025-12-02T12:34:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.775949395028874
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 44 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1135, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1135, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9810742b-5b0d-4793-a56e-b1252d86a7c6
  timestamp_start: 2025-12-02T12:34:51Z
  timestamp_end: 2025-12-02T12:37:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.31694722699467
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a1f80b1a-2c9a-47f5-89da-9745c0245292
  timestamp_start: 2025-12-02T12:37:17Z
  timestamp_end: 2025-12-02T12:37:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.839291837997735
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5bd686c5-5989-42cf-b59d-42dcc1bb6913
  timestamp_start: 2025-12-02T12:37:56Z
  timestamp_end: 2025-12-02T12:38:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.7841177060036
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 45 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1148, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1148, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 90d7a3b4-c6cc-40cf-9c44-b2a2ebc45398
  timestamp_start: 2025-12-02T12:38:40Z
  timestamp_end: 2025-12-02T12:39:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.673081641085446
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 15d4944e-9557-4daa-ab3e-bdb6eca01c3c
  timestamp_start: 2025-12-02T12:39:19Z
  timestamp_end: 2025-12-02T12:39:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.485910658026114
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cbfda288-b893-46d1-85bb-c7c0736b907b
  timestamp_start: 2025-12-02T12:39:59Z
  timestamp_end: 2025-12-02T12:40:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52933577506337
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 46 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1155, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1155, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9d5e0387-123a-408c-9f4b-530bd6c5b51e
  timestamp_start: 2025-12-02T12:40:42Z
  timestamp_end: 2025-12-02T12:41:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.573429913958535
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 27bd4a31-b153-4f77-9e95-581c27572634
  timestamp_start: 2025-12-02T12:41:22Z
  timestamp_end: 2025-12-02T12:43:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.08713056496345
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0df70f86-4da5-4137-8ac7-c8abfd0e69eb
  timestamp_start: 2025-12-02T12:43:47Z
  timestamp_end: 2025-12-02T12:44:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62116637895815
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 47 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1168, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1168, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 31c5b311-ada6-4ae6-9a73-0d90d44fe21c
  timestamp_start: 2025-12-02T12:44:30Z
  timestamp_end: 2025-12-02T12:45:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.626617448055185
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d2ca3e9f-6351-4b9f-a9a5-784fccfff3a3
  timestamp_start: 2025-12-02T12:45:09Z
  timestamp_end: 2025-12-02T12:45:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.375203793053515
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ca3eca41-e811-42c9-bcca-baef6dc03d92
  timestamp_start: 2025-12-02T12:45:49Z
  timestamp_end: 2025-12-02T12:48:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3892019339837
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 48 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1181, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1181, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 94605527-7c02-411e-93ee-c90b058b9000
  timestamp_start: 2025-12-02T12:48:17Z
  timestamp_end: 2025-12-02T12:48:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.6799358780263
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0b452507-4aff-4898-83c1-5a876657fd3c
  timestamp_start: 2025-12-02T12:48:56Z
  timestamp_end: 2025-12-02T12:49:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.724234669003636
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a3264e88-f28e-46ba-9544-a1b7cbde609d
  timestamp_start: 2025-12-02T12:49:36Z
  timestamp_end: 2025-12-02T12:52:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.96879830595572
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 49 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1194, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1194, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 35e9e79d-81af-4956-9946-a5e246c0f297
  timestamp_start: 2025-12-02T12:52:05Z
  timestamp_end: 2025-12-02T12:54:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.01795581402257
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0491c4de-58e0-4d64-bfb5-1353a0032a64
  timestamp_start: 2025-12-02T12:54:31Z
  timestamp_end: 2025-12-02T12:56:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.51400146493688
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 849c089c-0d17-4708-b611-748dc512d81b
  timestamp_start: 2025-12-02T12:56:55Z
  timestamp_end: 2025-12-02T12:57:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.87986362411175
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 50 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1213, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1213, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 23e23b05-7eea-4dea-8a0f-cf1f67f1f8d1
  timestamp_start: 2025-12-02T12:57:38Z
  timestamp_end: 2025-12-02T12:58:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.82077183097135
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2009101b-cf29-4dc8-be76-e615ca2acc45
  timestamp_start: 2025-12-02T12:58:20Z
  timestamp_end: 2025-12-02T13:00:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.41095392708667
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 93709781-d78c-444d-a342-461241d707cb
  timestamp_start: 2025-12-02T13:00:45Z
  timestamp_end: 2025-12-02T13:03:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.86107411899138
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 51 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1233, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1233, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 27beb97b-da9f-4da4-b48f-2b2ee19bcff6
  timestamp_start: 2025-12-02T13:03:13Z
  timestamp_end: 2025-12-02T13:03:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.572064857929945
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 78d5498e-02fb-4348-b66c-f99082d44be6
  timestamp_start: 2025-12-02T13:03:53Z
  timestamp_end: 2025-12-02T13:04:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 54.99283197708428
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8c62eb52-25c1-4de8-b9bd-e40fff8c9ac4
  timestamp_start: 2025-12-02T13:04:48Z
  timestamp_end: 2025-12-02T13:05:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 50.82512602303177
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 52 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1241, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1241, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 61273db3-0796-492f-a2c9-3b2d4118efef
  timestamp_start: 2025-12-02T13:05:42Z
  timestamp_end: 2025-12-02T13:06:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72207070107106
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5e0c3c31-6907-4f43-ad55-9b2cde2aa2d7
  timestamp_start: 2025-12-02T13:06:21Z
  timestamp_end: 2025-12-02T13:08:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.61717098602094
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6e11b34d-997d-42bc-ae50-3ff695ab2cf7
  timestamp_start: 2025-12-02T13:08:46Z
  timestamp_end: 2025-12-02T13:11:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.00935305596795
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 53 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1260, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1260, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 904b736a-1765-42f0-8bfb-99ed6396f684
  timestamp_start: 2025-12-02T13:11:15Z
  timestamp_end: 2025-12-02T13:13:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.4694371020887
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 13622efe-e62f-46a1-b317-005dd909a0d5
  timestamp_start: 2025-12-02T13:13:40Z
  timestamp_end: 2025-12-02T13:14:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.8240145399468
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ead5b289-2af6-4bd6-b6d6-3963a0a45522
  timestamp_start: 2025-12-02T13:14:20Z
  timestamp_end: 2025-12-02T13:15:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.76920987397898
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 54 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1273, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1273, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 98190591-b004-494a-a228-ca3f8e9b2e77
  timestamp_start: 2025-12-02T13:15:03Z
  timestamp_end: 2025-12-02T13:17:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.24995273596141
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 01882e56-377f-41e7-b323-f14c8174762a
  timestamp_start: 2025-12-02T13:17:29Z
  timestamp_end: 2025-12-02T13:19:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.7807195559144
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8344a57b-0188-40bf-8812-609dd5ba0144
  timestamp_start: 2025-12-02T13:19:55Z
  timestamp_end: 2025-12-02T13:22:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.2232771370327
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 55 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1296, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1296, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 89a03080-80dc-46a7-b127-b89e2e432ad4
  timestamp_start: 2025-12-02T13:22:25Z
  timestamp_end: 2025-12-02T13:24:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.47496769798454
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d9a6e1ce-24e5-4503-8b7d-be7116f423b6
  timestamp_start: 2025-12-02T13:24:51Z
  timestamp_end: 2025-12-02T13:27:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.89988773595542
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fa3de5d4-3bf4-4654-a84e-623131557bfc
  timestamp_start: 2025-12-02T13:27:17Z
  timestamp_end: 2025-12-02T13:27:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.7807272230275
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 56 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1311, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1311, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f9aaa21a-a566-4a60-8eb2-feb302427933
  timestamp_start: 2025-12-02T13:28:00Z
  timestamp_end: 2025-12-02T13:30:24Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.56069225410465
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 824e961a-13d6-4cb1-b0df-82e9d7c6b24c
  timestamp_start: 2025-12-02T13:30:24Z
  timestamp_end: 2025-12-02T13:32:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.61847769503947
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9570fb94-176c-496a-89ca-3a76c284e884
  timestamp_start: 2025-12-02T13:32:48Z
  timestamp_end: 2025-12-02T13:35:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.81194792699534
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 57 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1330, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1330, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a79cbbdd-f707-439e-b4bd-1cefca812779
  timestamp_start: 2025-12-02T13:35:15Z
  timestamp_end: 2025-12-02T13:37:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.613952239044
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0847de65-64cf-41d3-b4e5-9cabb34a128c
  timestamp_start: 2025-12-02T13:37:40Z
  timestamp_end: 2025-12-02T13:40:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.11975655995775
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: caffbfce-33a7-47df-9e59-dfd6f888c338
  timestamp_start: 2025-12-02T13:40:04Z
  timestamp_end: 2025-12-02T13:42:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.1727630610112
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 58 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1352, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1352, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 09ed2cb8-8b50-40ff-a152-a724d3c58dde
  timestamp_start: 2025-12-02T13:42:33Z
  timestamp_end: 2025-12-02T13:45:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 148.8148547989549
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0e1a3e01-0242-4036-8bc1-91ad1a9c2d40
  timestamp_start: 2025-12-02T13:45:01Z
  timestamp_end: 2025-12-02T13:47:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.31104337703437
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 01195d55-f83e-4be6-ac7b-34230f22b24b
  timestamp_start: 2025-12-02T13:47:25Z
  timestamp_end: 2025-12-02T13:49:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.36568029306363
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 59 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1377, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1377, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c8bb1a2c-4675-477f-b929-588845e62415
  timestamp_start: 2025-12-02T13:49:50Z
  timestamp_end: 2025-12-02T13:50:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.36940459802281
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 05ca94b2-ce4c-4cf0-929c-08ae27fb8058
  timestamp_start: 2025-12-02T13:50:30Z
  timestamp_end: 2025-12-02T13:51:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.51924283208791
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 71c4ff8a-9e98-4e6c-8f17-5393b88e2930
  timestamp_start: 2025-12-02T13:51:09Z
  timestamp_end: 2025-12-02T13:53:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.460969211068
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 60 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1390, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1390, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0443412a-1fd8-4b59-b005-dcef67201259
  timestamp_start: 2025-12-02T13:53:36Z
  timestamp_end: 2025-12-02T13:54:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.5718085099943
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 913fe954-78aa-488b-83e6-8358542b0d89
  timestamp_start: 2025-12-02T13:54:16Z
  timestamp_end: 2025-12-02T13:54:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.622058820095845
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 67066208-56e7-4558-9deb-5b07c00d4e10
  timestamp_start: 2025-12-02T13:54:55Z
  timestamp_end: 2025-12-02T13:55:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.6692567440914
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 61 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1397, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1397, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b1e1f48a-ec5f-415d-87d6-65f9600459fd
  timestamp_start: 2025-12-02T13:55:38Z
  timestamp_end: 2025-12-02T13:56:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72261670301668
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c53593f3-7f3a-4ed3-a265-7ae3d5c3acff
  timestamp_start: 2025-12-02T13:56:18Z
  timestamp_end: 2025-12-02T13:59:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 164.09817821800243
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 258bda75-56de-44a9-b47b-58252b9f6529
  timestamp_start: 2025-12-02T13:59:02Z
  timestamp_end: 2025-12-02T14:01:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.4130161209032
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 62 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1415, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1415, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 762343f0-1514-44bb-981d-afc1475854c0
  timestamp_start: 2025-12-02T14:01:30Z
  timestamp_end: 2025-12-02T14:03:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.71260239405092
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a8ebbaa6-03cb-4fe7-8d16-2d11829872a6
  timestamp_start: 2025-12-02T14:03:56Z
  timestamp_end: 2025-12-02T14:06:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.76567646395415
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 73675a4c-e799-4fd2-96c1-51a9a2a2a80f
  timestamp_start: 2025-12-02T14:06:19Z
  timestamp_end: 2025-12-02T14:06:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77274349494837
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 63 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1434, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1434, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d6f5263b-5258-4ad1-9c5f-ab7a18c69e23
  timestamp_start: 2025-12-02T14:07:03Z
  timestamp_end: 2025-12-02T14:09:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.71739285101648
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c81399c4-0851-484c-9aeb-954fcfd93de2
  timestamp_start: 2025-12-02T14:09:26Z
  timestamp_end: 2025-12-02T14:11:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.1210521410685
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 79ffb883-da06-427e-a89a-1207c3125a79
  timestamp_start: 2025-12-02T14:11:50Z
  timestamp_end: 2025-12-02T14:14:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.67109137994703
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 64 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1459, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1459, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a340726c-297d-4135-837c-208aede22d67
  timestamp_start: 2025-12-02T14:14:18Z
  timestamp_end: 2025-12-02T14:16:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.3693476059707
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b489b3fa-344b-45fb-82a2-7f6f4019891e
  timestamp_start: 2025-12-02T14:16:44Z
  timestamp_end: 2025-12-02T14:19:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.11435212101787
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7f1a6be8-df8c-46a9-8253-0e37b35dbba4
  timestamp_start: 2025-12-02T14:19:08Z
  timestamp_end: 2025-12-02T14:21:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.80481261503883
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 65 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1484, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1484, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5f1b2521-0266-47a1-b42a-baca8c02e013
  timestamp_start: 2025-12-02T14:21:34Z
  timestamp_end: 2025-12-02T14:23:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.06985735998023
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 64bf1fe0-e84f-4053-9088-b944471a1c9e
  timestamp_start: 2025-12-02T14:23:59Z
  timestamp_end: 2025-12-02T14:24:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72485444601625
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e2217d08-3732-41be-afe0-36938779971d
  timestamp_start: 2025-12-02T14:24:39Z
  timestamp_end: 2025-12-02T14:27:03Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.81477195606567
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 66 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1504, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1504, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 83b2807b-750c-41fb-9fce-8b10564cc4fb
  timestamp_start: 2025-12-02T14:27:06Z
  timestamp_end: 2025-12-02T14:29:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.0702890889952
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9b5d0790-64c5-46e8-ac70-6ceb2aa1f716
  timestamp_start: 2025-12-02T14:29:32Z
  timestamp_end: 2025-12-02T14:31:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.01218595006503
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f46c5106-3f43-4ca3-b2d5-64cf22061da8
  timestamp_start: 2025-12-02T14:31:57Z
  timestamp_end: 2025-12-02T14:34:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.77090418396983
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 67 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1529, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1529, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0672a149-3de2-4d92-9e97-68850cb7a262
  timestamp_start: 2025-12-02T14:34:26Z
  timestamp_end: 2025-12-02T14:36:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.87631616008002
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 40d5e2d5-039e-4cc4-9622-fa84f77cb663
  timestamp_start: 2025-12-02T14:36:52Z
  timestamp_end: 2025-12-02T14:39:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.24114628799725
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 80cbbdc0-01a7-4062-9706-486ac6961e52
  timestamp_start: 2025-12-02T14:39:18Z
  timestamp_end: 2025-12-02T14:41:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.1442936169915
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 68 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1547, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1547, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cefb1c2b-b1dc-4748-b01e-08bb013417a6
  timestamp_start: 2025-12-02T14:41:46Z
  timestamp_end: 2025-12-02T14:44:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.6147094910266
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a27670b3-eb10-491a-9e53-e9b9367170b9
  timestamp_start: 2025-12-02T14:44:13Z
  timestamp_end: 2025-12-02T14:46:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.2151616209885
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 619f0b69-038a-48f5-b2f1-4ff9931e4858
  timestamp_start: 2025-12-02T14:46:38Z
  timestamp_end: 2025-12-02T14:49:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.77242277900223
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 69 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1565, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1565, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c4e5db27-d455-4dea-80ec-6dc3234f817c
  timestamp_start: 2025-12-02T14:49:07Z
  timestamp_end: 2025-12-02T14:51:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.8780507670017
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 498f7163-c97a-45e5-a8fc-8b9128e665bf
  timestamp_start: 2025-12-02T14:51:33Z
  timestamp_end: 2025-12-02T14:53:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.0248952889815
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f9458f46-5f40-490b-a1f9-82f2e22924e5
  timestamp_start: 2025-12-02T14:53:58Z
  timestamp_end: 2025-12-02T14:56:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3704662800301
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 70 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1583, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1583, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1d3b4499-eb0c-4ebd-b2c4-75d252ed52b9
  timestamp_start: 2025-12-02T14:56:26Z
  timestamp_end: 2025-12-02T14:57:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42197166301776
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3aafaf26-8cbe-47f5-a0bd-c7b2b1c0d9ec
  timestamp_start: 2025-12-02T14:57:05Z
  timestamp_end: 2025-12-02T14:59:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.5642631460214
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a0e37f0b-5a81-4388-b4a0-da2fa1808117
  timestamp_start: 2025-12-02T14:59:31Z
  timestamp_end: 2025-12-02T15:01:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.61439414299093
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 71 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1599, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1599, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bd160e22-04b1-42d1-945a-49c5e5d53cc9
  timestamp_start: 2025-12-02T15:02:00Z
  timestamp_end: 2025-12-02T15:04:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.71147991297767
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7aa4783a-67bf-426c-96f3-67bc4316392e
  timestamp_start: 2025-12-02T15:04:26Z
  timestamp_end: 2025-12-02T15:06:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.43426335509866
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 304ae80c-b97c-434f-86a7-19eaa5f1e5fd
  timestamp_start: 2025-12-02T15:06:50Z
  timestamp_end: 2025-12-02T15:09:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.0454114790773
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 72 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1622, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1622, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b47cb24e-d522-4dc0-a556-e0f7063b3421
  timestamp_start: 2025-12-02T15:09:19Z
  timestamp_end: 2025-12-02T15:11:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.013367463951
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 03dc583a-0fbd-4d43-981b-d61a532b7230
  timestamp_start: 2025-12-02T15:11:45Z
  timestamp_end: 2025-12-02T15:14:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3160215340322
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3b112486-0f7c-47ac-9412-cda74011e071
  timestamp_start: 2025-12-02T15:14:09Z
  timestamp_end: 2025-12-02T15:16:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.4663957390003
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 73 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1647, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1647, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1ffdd593-f068-40cb-b4eb-db0a78c60c75
  timestamp_start: 2025-12-02T15:16:39Z
  timestamp_end: 2025-12-02T15:19:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.21948810399044
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7dbe1784-9d04-4461-9ec2-986b7042d6fd
  timestamp_start: 2025-12-02T15:19:04Z
  timestamp_end: 2025-12-02T15:21:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.47085758589674
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7a00a664-7567-4055-84d3-bb36c9c0077b
  timestamp_start: 2025-12-02T15:21:30Z
  timestamp_end: 2025-12-02T15:22:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.47186105791479
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 74 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1668, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1668, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0c78571f-d541-4d33-9b3f-f105622da3ef
  timestamp_start: 2025-12-02T15:22:13Z
  timestamp_end: 2025-12-02T15:22:54Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.17355481500272
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b191af89-9e9c-4d67-9eac-1f4aae255631
  timestamp_start: 2025-12-02T15:22:54Z
  timestamp_end: 2025-12-02T15:23:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52354042499792
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ca68977f-bd79-45e4-be31-f253ae5f3a96
  timestamp_start: 2025-12-02T15:23:33Z
  timestamp_end: 2025-12-02T15:24:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62159260699991
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 75 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1674, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1674, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 96d4d3ee-f42f-48b7-970e-08e907f8dd7f
  timestamp_start: 2025-12-02T15:24:16Z
  timestamp_end: 2025-12-02T15:26:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.20905261707958
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c563cbc5-b423-4da3-92ba-207415c19c1c
  timestamp_start: 2025-12-02T15:26:40Z
  timestamp_end: 2025-12-02T15:27:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57191264105495
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2beb69f3-e853-4caf-8528-f04e3643beed
  timestamp_start: 2025-12-02T15:27:20Z
  timestamp_end: 2025-12-02T15:27:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.472315666032955
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 76 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1687, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1687, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6526b954-ec64-4af3-9379-b5daa48febba
  timestamp_start: 2025-12-02T15:28:03Z
  timestamp_end: 2025-12-02T15:28:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.41944033501204
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ba4c6bc1-f81a-42e8-aaf6-6c9ae685fdb6
  timestamp_start: 2025-12-02T15:28:42Z
  timestamp_end: 2025-12-02T15:31:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.1594793020049
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 90a5fbb8-d24c-4fad-820b-8a1ebac95c3a
  timestamp_start: 2025-12-02T15:31:07Z
  timestamp_end: 2025-12-02T15:31:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47284208005294
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 77 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1700, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1700, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 74e739ac-0cba-4ff9-b539-b3f2bf9d986e
  timestamp_start: 2025-12-02T15:31:50Z
  timestamp_end: 2025-12-02T15:32:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.471893428009935
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b0fff7f0-b3e6-4330-a3fa-4689d91ebd72
  timestamp_start: 2025-12-02T15:32:30Z
  timestamp_end: 2025-12-02T15:34:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.52028267004061
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d42a9940-af17-4e6b-b138-8a165f6c6153
  timestamp_start: 2025-12-02T15:34:55Z
  timestamp_end: 2025-12-02T15:37:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.06538142298814
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 78 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1719, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1719, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: af42d122-2b17-46cf-b450-12628f2813e5
  timestamp_start: 2025-12-02T15:37:23Z
  timestamp_end: 2025-12-02T15:39:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.76153422310017
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8975d00c-7215-4d93-92af-c46e623af00b
  timestamp_start: 2025-12-02T15:39:48Z
  timestamp_end: 2025-12-02T15:40:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 49.486740157939494
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ce2466fd-93b3-4151-8d69-1b3bc9b270e5
  timestamp_start: 2025-12-02T15:40:38Z
  timestamp_end: 2025-12-02T15:41:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72332034201827
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 79 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1733, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1733, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 12640655-468a-4cc8-beb7-7db49ee2a0bf
  timestamp_start: 2025-12-02T15:41:21Z
  timestamp_end: 2025-12-02T15:42:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.87251874094363
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5650c457-c0e3-4a88-bd3e-c131022e9c60
  timestamp_start: 2025-12-02T15:42:01Z
  timestamp_end: 2025-12-02T15:44:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.45815488998778
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 21c883d0-7558-4a3a-8dbf-9f280d622ea0
  timestamp_start: 2025-12-02T15:44:25Z
  timestamp_end: 2025-12-02T15:45:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.419132706010714
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 80 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1746, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1746, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 23ea811c-540e-467e-9cbd-d94808b29a7f
  timestamp_start: 2025-12-02T15:45:08Z
  timestamp_end: 2025-12-02T15:45:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.12239189003594
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 35b55a63-40cd-4f6f-8398-3aaaf8649f5e
  timestamp_start: 2025-12-02T15:45:48Z
  timestamp_end: 2025-12-02T15:48:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.01736026699655
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3a37a555-4259-48eb-b176-09d1d5ee5187
  timestamp_start: 2025-12-02T15:48:12Z
  timestamp_end: 2025-12-02T15:50:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.01872195594478
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 81 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1765, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1765, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b2204cfa-00e3-40b5-9576-34f26ad34a1c
  timestamp_start: 2025-12-02T15:50:40Z
  timestamp_end: 2025-12-02T15:53:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.91781313891988
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 394a3bbd-f7df-4ad7-aa0b-76b1e15d2023
  timestamp_start: 2025-12-02T15:53:05Z
  timestamp_end: 2025-12-02T15:55:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.01897293596994
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1bb78fb3-f502-4a40-9685-30b116ba24d9
  timestamp_start: 2025-12-02T15:55:30Z
  timestamp_end: 2025-12-02T15:56:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.722177162067965
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 82 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1782, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1782, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c62ea835-06e4-4f75-9218-01f84bba9685
  timestamp_start: 2025-12-02T15:56:15Z
  timestamp_end: 2025-12-02T15:58:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.98314362799283
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e0240662-80c0-4c10-acf3-ec445b76cd23
  timestamp_start: 2025-12-02T15:58:41Z
  timestamp_end: 2025-12-02T16:01:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.31975794699974
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bb1f4340-03eb-4018-a235-6f81ea7e5381
  timestamp_start: 2025-12-02T16:01:04Z
  timestamp_end: 2025-12-02T16:01:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77331931202207
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 83 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1803, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1803, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 41a56bb6-d3f4-42ec-ae5a-b1a64f40ea4b
  timestamp_start: 2025-12-02T16:01:47Z
  timestamp_end: 2025-12-02T16:04:14Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.96555547090247
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5ab48cd7-a7b9-424e-8425-9e40d4fb6b17
  timestamp_start: 2025-12-02T16:04:14Z
  timestamp_end: 2025-12-02T16:06:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.61784498102497
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ec7118e0-0e9b-43dc-b5a3-2679b9df4fc9
  timestamp_start: 2025-12-02T16:06:38Z
  timestamp_end: 2025-12-02T16:09:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.76703477604315
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 84 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1827, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1827, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: eb587f20-126d-492e-9cde-e12ccf34d92f
  timestamp_start: 2025-12-02T16:09:05Z
  timestamp_end: 2025-12-02T16:11:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.82025873207022
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 97278549-ecff-451a-864a-949d0e7f5a76
  timestamp_start: 2025-12-02T16:11:31Z
  timestamp_end: 2025-12-02T16:13:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3191922729602
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 80ff59c8-586a-498c-8b81-55958930fa0d
  timestamp_start: 2025-12-02T16:13:55Z
  timestamp_end: 2025-12-02T16:16:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22098872810602
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 85 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1853, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1853, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ffa2a74b-aec3-48c7-b918-3df3ef2cfeb7
  timestamp_start: 2025-12-02T16:16:23Z
  timestamp_end: 2025-12-02T16:18:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.6700030840002
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1f32f949-424c-4e65-bd2c-bcfeccd4419e
  timestamp_start: 2025-12-02T16:18:48Z
  timestamp_end: 2025-12-02T16:19:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52298439096194
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3e2c836c-e896-427b-8464-c1d33bcba853
  timestamp_start: 2025-12-02T16:19:28Z
  timestamp_end: 2025-12-02T16:20:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.569805508013815
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 86 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1863, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1863, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f4a4d5b6-c5f7-45c9-bbdf-79bbce287ffd
  timestamp_start: 2025-12-02T16:20:12Z
  timestamp_end: 2025-12-02T16:22:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.96296117897145
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1cdc0bec-36e5-499f-a415-25e08047fa2f
  timestamp_start: 2025-12-02T16:22:36Z
  timestamp_end: 2025-12-02T16:25:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.51228305406403
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fbe48571-5b40-4d6f-be90-6ededca7de53
  timestamp_start: 2025-12-02T16:25:01Z
  timestamp_end: 2025-12-02T16:27:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.61787877196912
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 87 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1889, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1889, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6d98a4cc-0507-40a1-b89e-f49d744abfd9
  timestamp_start: 2025-12-02T16:27:29Z
  timestamp_end: 2025-12-02T16:29:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.18152435892262
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a7fd3914-c38d-4f4a-aceb-743351390f74
  timestamp_start: 2025-12-02T16:29:56Z
  timestamp_end: 2025-12-02T16:32:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 154.3661188930273
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 09a05091-0c9c-4e16-8dd3-2380c9214ce5
  timestamp_start: 2025-12-02T16:32:30Z
  timestamp_end: 2025-12-02T16:34:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.89164706191514
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 88 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1907, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1907, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fc4e96ff-cfde-4125-8cbf-f13fea0112ba
  timestamp_start: 2025-12-02T16:34:56Z
  timestamp_end: 2025-12-02T16:37:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.20886254496872
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4b242577-fbe0-431d-ba10-558b90be8f89
  timestamp_start: 2025-12-02T16:37:22Z
  timestamp_end: 2025-12-02T16:39:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.93501638504677
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 944a80f2-fdcb-4b65-8238-e0df35d79f67
  timestamp_start: 2025-12-02T16:39:47Z
  timestamp_end: 2025-12-02T16:42:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.8132093999302
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 89 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1925, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1925, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 40bb74ff-c679-4470-a534-4b793d5901d8
  timestamp_start: 2025-12-02T16:42:15Z
  timestamp_end: 2025-12-02T16:44:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.72041876497678
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5e604191-e031-42e2-8652-82fe25c8342e
  timestamp_start: 2025-12-02T16:44:40Z
  timestamp_end: 2025-12-02T16:47:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.71841480094008
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 49062632-c209-41da-ba5c-7bb127fb73c5
  timestamp_start: 2025-12-02T16:47:04Z
  timestamp_end: 2025-12-02T16:49:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.52027845196426
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 90 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1943, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1943, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 25d7037c-3dea-4569-8903-3a36733f0ece
  timestamp_start: 2025-12-02T16:49:31Z
  timestamp_end: 2025-12-02T16:51:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.96168168308213
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3e8ce16f-425e-4bfc-9b5f-b28e08d05df7
  timestamp_start: 2025-12-02T16:51:56Z
  timestamp_end: 2025-12-02T16:54:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.50775393901858
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c7e32d5c-ba2a-446c-87bd-8b92cb36af44
  timestamp_start: 2025-12-02T16:54:20Z
  timestamp_end: 2025-12-02T16:54:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.420106946956366
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 91 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1953, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1953, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9de629ca-8015-4da5-85da-c50a24bfbffa
  timestamp_start: 2025-12-02T16:55:02Z
  timestamp_end: 2025-12-02T16:57:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.16229343705345
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 75dde851-1131-466e-a0ef-89a4f99bb061
  timestamp_start: 2025-12-02T16:57:29Z
  timestamp_end: 2025-12-02T16:58:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.31869825196918
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 20d893fa-f6ad-4cb6-b295-548850ef97e2
  timestamp_start: 2025-12-02T16:58:08Z
  timestamp_end: 2025-12-02T17:00:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.8602932159556
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 92 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1964, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1964, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3641667c-51a1-42e0-8f2a-a013307f4e04
  timestamp_start: 2025-12-02T17:00:34Z
  timestamp_end: 2025-12-02T17:01:14Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.772879877942614
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7b3cabbb-060c-44aa-b4b1-4deb89dc9cae
  timestamp_start: 2025-12-02T17:01:14Z
  timestamp_end: 2025-12-02T17:03:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.61978828790598
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1ed0ac43-c1dd-43c2-b7bf-51b7aea0fecd
  timestamp_start: 2025-12-02T17:03:39Z
  timestamp_end: 2025-12-02T17:04:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.67255381599534
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 93 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1971, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1971, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b8cb65d3-ce68-4364-a1ec-eb8230b1200f
  timestamp_start: 2025-12-02T17:04:22Z
  timestamp_end: 2025-12-02T17:06:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.61827705800533
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cca0e35b-79ed-44ba-aac7-47fe2836848f
  timestamp_start: 2025-12-02T17:06:47Z
  timestamp_end: 2025-12-02T17:07:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.923557956004515
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 71c8fbeb-e6d5-4192-8ae9-b0e909c7404b
  timestamp_start: 2025-12-02T17:07:27Z
  timestamp_end: 2025-12-02T17:09:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.719323388068
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 94 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1982, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1982, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bb8d4635-4878-43f0-a467-172dd12bec28
  timestamp_start: 2025-12-02T17:09:54Z
  timestamp_end: 2025-12-02T17:10:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.522296341951005
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bceebda3-9e71-4490-8eef-1ae09e58b4e8
  timestamp_start: 2025-12-02T17:10:34Z
  timestamp_end: 2025-12-02T17:12:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.11335061397403
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 01d6ea05-a58d-48fe-8ca6-597d03041e47
  timestamp_start: 2025-12-02T17:12:59Z
  timestamp_end: 2025-12-02T17:13:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.675357742933556
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 95 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1989, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1989, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 29056cab-1e1a-4e21-924e-81f866738d6c
  timestamp_start: 2025-12-02T17:13:42Z
  timestamp_end: 2025-12-02T17:16:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.41923916398082
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a79630be-201f-4b57-9b5b-ff4aa3db2422
  timestamp_start: 2025-12-02T17:16:08Z
  timestamp_end: 2025-12-02T17:16:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.37174735998269
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2e33e3c4-7093-4a8c-b463-391a1c072941
  timestamp_start: 2025-12-02T17:16:48Z
  timestamp_end: 2025-12-02T17:19:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.5649094170658
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 96 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (2000, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (2000, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4224cc0c-f988-4a09-b727-1f0cd2949117
  timestamp_start: 2025-12-02T17:19:14Z
  timestamp_end: 2025-12-02T17:19:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.319268838036805
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9d99c299-5f2f-4680-b4df-e396a093d055
  timestamp_start: 2025-12-02T17:19:53Z
  timestamp_end: 2025-12-02T17:22:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.51877926499583
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 491bbb6b-211f-4a7d-ac19-2f7b2779e823
  timestamp_start: 2025-12-02T17:22:18Z
  timestamp_end: 2025-12-02T17:24:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.65588783007115
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB B] Iteration 97 ===
