=== [JOB A] Iteration 1 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (364, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (364, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: abbedaf1-4c20-4822-b2c0-3cd244f51ff7
  timestamp_start: 2025-12-02T08:41:02Z
  timestamp_end: 2025-12-02T08:43:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.0761624529987
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: de895a5b-28a2-4ddd-bff0-078d217150d8
  timestamp_start: 2025-12-02T08:43:25Z
  timestamp_end: 2025-12-02T08:44:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 63.96051149500272
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: aa9e3d9f-da17-4933-a5f6-909226c16263
  timestamp_start: 2025-12-02T08:44:29Z
  timestamp_end: 2025-12-02T08:46:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.07800977599982
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 2 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (376, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (376, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 41411bce-df5d-456b-9366-0bae9b24d503
  timestamp_start: 2025-12-02T08:46:56Z
  timestamp_end: 2025-12-02T08:49:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5260471540023
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 14559155-9fa9-4a45-ad00-2b280eeadbc3
  timestamp_start: 2025-12-02T08:49:20Z
  timestamp_end: 2025-12-02T08:51:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.13100713300082
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d2e83593-2f9c-465d-8f6f-b9f67570d887
  timestamp_start: 2025-12-02T08:51:44Z
  timestamp_end: 2025-12-02T08:54:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.47469990699756
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 3 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (392, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (392, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cd13332f-7e1d-409a-b016-f42b24fb6589
  timestamp_start: 2025-12-02T08:54:11Z
  timestamp_end: 2025-12-02T08:56:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.77181140000175
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: de2d8a6c-1494-4a23-9452-bda17f94f9f1
  timestamp_start: 2025-12-02T08:56:35Z
  timestamp_end: 2025-12-02T08:59:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.42753046500002
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cd7cdbb1-9e6d-43f8-8057-a0dc97059363
  timestamp_start: 2025-12-02T08:59:01Z
  timestamp_end: 2025-12-02T09:01:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.7196281180004
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 4 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (415, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (415, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3bbcd7f0-e58a-4fe9-a553-1f77f149ade1
  timestamp_start: 2025-12-02T09:01:29Z
  timestamp_end: 2025-12-02T09:02:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57088189500064
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 86809d3b-17de-4860-912b-fc545d58e928
  timestamp_start: 2025-12-02T09:02:09Z
  timestamp_end: 2025-12-02T09:02:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.61889273300039
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 44c993da-d105-4c7b-a495-94fa2e50463c
  timestamp_start: 2025-12-02T09:02:48Z
  timestamp_end: 2025-12-02T09:05:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.25833362300182
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 5 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (428, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (428, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ade866c5-b562-4399-9228-5d52da7a5abf
  timestamp_start: 2025-12-02T09:05:15Z
  timestamp_end: 2025-12-02T09:07:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.2568633080009
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c6a107d8-f9c4-4fbb-9c08-e0916948702c
  timestamp_start: 2025-12-02T09:07:39Z
  timestamp_end: 2025-12-02T09:10:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.2284817969994
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 44db913b-269d-4bb2-a3f5-61418352ca0a
  timestamp_start: 2025-12-02T09:10:04Z
  timestamp_end: 2025-12-02T09:12:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.81597776799754
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 6 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (453, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (453, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 42784da1-953d-4ab2-978f-0299fce3599d
  timestamp_start: 2025-12-02T09:12:32Z
  timestamp_end: 2025-12-02T09:14:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.85608885599504
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a579c29e-5434-485a-acb2-cad6dcfcec14
  timestamp_start: 2025-12-02T09:14:56Z
  timestamp_end: 2025-12-02T09:17:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.46748468399892
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0060d0dd-ae2c-4038-bb27-b11b6d6e7231
  timestamp_start: 2025-12-02T09:17:21Z
  timestamp_end: 2025-12-02T09:19:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.16986609499872
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 7 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (479, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (479, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 32f8e39c-7d0c-490a-acde-bc45bab47e84
  timestamp_start: 2025-12-02T09:19:51Z
  timestamp_end: 2025-12-02T09:20:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.37569231499947
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: eb649a69-820d-4aa2-ab21-7cfdb52a13cd
  timestamp_start: 2025-12-02T09:20:30Z
  timestamp_end: 2025-12-02T09:21:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.37468073700438
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 87221f88-cc18-4852-8dfd-929d92353580
  timestamp_start: 2025-12-02T09:21:09Z
  timestamp_end: 2025-12-02T09:23:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.23124207300134
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 8 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (493, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (493, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3c540c06-51ad-48a1-a539-6bfb2604589f
  timestamp_start: 2025-12-02T09:23:37Z
  timestamp_end: 2025-12-02T09:24:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47343395500502
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dd8c1dcb-ed62-45a4-adff-5b4ebcc8b10b
  timestamp_start: 2025-12-02T09:24:16Z
  timestamp_end: 2025-12-02T09:24:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.67250176300149
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0b52242f-7b94-4bcc-8207-f2c1b1344821
  timestamp_start: 2025-12-02T09:24:56Z
  timestamp_end: 2025-12-02T09:25:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47411552399717
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 9 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (500, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (500, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 46293975-68d8-4bb3-a9ad-61ffce66abb0
  timestamp_start: 2025-12-02T09:25:39Z
  timestamp_end: 2025-12-02T09:26:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57257806499547
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f1246bb0-247b-4728-8165-ec9b486dd749
  timestamp_start: 2025-12-02T09:26:18Z
  timestamp_end: 2025-12-02T09:26:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.525140840996755
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9a37fa5b-c7be-48f5-be04-871d956336de
  timestamp_start: 2025-12-02T09:26:58Z
  timestamp_end: 2025-12-02T09:29:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.7683317139963
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 10 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (513, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (513, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 905e680d-ccc4-4c93-947f-64337eab3dd6
  timestamp_start: 2025-12-02T09:29:24Z
  timestamp_end: 2025-12-02T09:31:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.077319996999
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 699d80e4-e0aa-4d25-b5a9-47916083783f
  timestamp_start: 2025-12-02T09:31:49Z
  timestamp_end: 2025-12-02T09:34:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.77541799500614
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ffaef136-516b-4341-be13-c766cbbe8f2e
  timestamp_start: 2025-12-02T09:34:13Z
  timestamp_end: 2025-12-02T09:36:37Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.46780016199773
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 11 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (538, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (538, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 67a704bc-d9f8-4695-9c6f-e0be3db15d46
  timestamp_start: 2025-12-02T09:36:40Z
  timestamp_end: 2025-12-02T09:37:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57558926400088
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d173fdae-6bf2-4fbd-83ef-df80188fad53
  timestamp_start: 2025-12-02T09:37:20Z
  timestamp_end: 2025-12-02T09:38:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57532508800068
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 014e9d24-70ba-4219-9470-2a2a31886eaa
  timestamp_start: 2025-12-02T09:38:00Z
  timestamp_end: 2025-12-02T09:40:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.47653291199822
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 12 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (551, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (551, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6bc21c48-f1d4-4bfe-9285-900dca002946
  timestamp_start: 2025-12-02T09:40:28Z
  timestamp_end: 2025-12-02T09:42:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.21569768399786
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3c18f855-1f6d-43b0-a467-8b6800174ab0
  timestamp_start: 2025-12-02T09:42:53Z
  timestamp_end: 2025-12-02T09:45:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.06953734299896
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c6f814f0-dc55-4115-9289-9611eaead4a3
  timestamp_start: 2025-12-02T09:45:18Z
  timestamp_end: 2025-12-02T09:47:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.37559976299963
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 13 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (577, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (577, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b6f9a871-8277-4b50-826f-a75973d9dcc0
  timestamp_start: 2025-12-02T09:47:45Z
  timestamp_end: 2025-12-02T09:50:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.07694609299506
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 223a690f-cd68-479a-a7a3-f99ccb4b00ef
  timestamp_start: 2025-12-02T09:50:10Z
  timestamp_end: 2025-12-02T09:52:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.32294255300076
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cd638f15-32be-4c97-8fc7-be6042807b40
  timestamp_start: 2025-12-02T09:52:34Z
  timestamp_end: 2025-12-02T09:54:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.572585548005
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 14 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (602, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (602, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 57ae94dc-2e10-45de-b337-f97de9be12c8
  timestamp_start: 2025-12-02T09:55:00Z
  timestamp_end: 2025-12-02T09:55:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.5692665960014
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c7b4001e-27bd-4df4-954d-0cde6fe6b270
  timestamp_start: 2025-12-02T09:55:40Z
  timestamp_end: 2025-12-02T09:56:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47179446100199
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ef754ca4-9355-4cce-962a-2554b722b9e5
  timestamp_start: 2025-12-02T09:56:19Z
  timestamp_end: 2025-12-02T09:58:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.66315347899945
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 15 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (615, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (615, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c2299a18-f359-45c5-8221-cedc8fd73fa2
  timestamp_start: 2025-12-02T09:58:46Z
  timestamp_end: 2025-12-02T10:01:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.17583326000022
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 40d33b42-9e79-4436-b254-f557413239bf
  timestamp_start: 2025-12-02T10:01:12Z
  timestamp_end: 2025-12-02T10:03:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.322928622998
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1bb8918b-4322-44ad-b899-5a07e48bcc3d
  timestamp_start: 2025-12-02T10:03:35Z
  timestamp_end: 2025-12-02T10:05:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.4192735300021
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 16 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (640, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (640, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 72aeca59-d981-458f-a410-4b3131b90748
  timestamp_start: 2025-12-02T10:06:02Z
  timestamp_end: 2025-12-02T10:08:26Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.30807355599973
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 07124ad8-f599-47cd-8c9e-f5195a7777fd
  timestamp_start: 2025-12-02T10:08:26Z
  timestamp_end: 2025-12-02T10:10:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.0671763210048
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c5b815a4-6509-4bd8-b49d-720944989ac0
  timestamp_start: 2025-12-02T10:10:51Z
  timestamp_end: 2025-12-02T10:13:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 161.94222431100206
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 17 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (666, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (666, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3b0594b6-6c58-4ac3-979b-c098c911d8a9
  timestamp_start: 2025-12-02T10:13:36Z
  timestamp_end: 2025-12-02T10:14:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42249239800003
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3486aa13-f29a-4559-89ed-ad837d749879
  timestamp_start: 2025-12-02T10:14:16Z
  timestamp_end: 2025-12-02T10:16:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.76432754400594
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 58bf102b-45cd-469e-8177-f5f032998ced
  timestamp_start: 2025-12-02T10:16:40Z
  timestamp_end: 2025-12-02T10:19:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.81337368799723
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 18 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (681, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (681, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 09ffe52d-0a0f-40e7-a5a4-c7d171fd4f91
  timestamp_start: 2025-12-02T10:19:07Z
  timestamp_end: 2025-12-02T10:21:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.32547868099937
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2d32445b-1327-4abf-bcd2-a2e290407c89
  timestamp_start: 2025-12-02T10:21:33Z
  timestamp_end: 2025-12-02T10:23:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.47560767299728
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: db437d2c-6f75-48e4-b2ea-5016f10d73be
  timestamp_start: 2025-12-02T10:23:57Z
  timestamp_end: 2025-12-02T10:26:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.07212989199616
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 19 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (699, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (699, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2b51ce66-7bd7-47d6-a3c1-6b6e03dfb457
  timestamp_start: 2025-12-02T10:26:23Z
  timestamp_end: 2025-12-02T10:28:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.42507826800284
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 33d90132-a16b-443d-bc1d-055bb5de2999
  timestamp_start: 2025-12-02T10:28:49Z
  timestamp_end: 2025-12-02T10:31:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.62410038300732
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8d3a55ab-77fe-4437-b94b-59b59e1d327a
  timestamp_start: 2025-12-02T10:31:13Z
  timestamp_end: 2025-12-02T10:33:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.12138308900467
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 20 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (719, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (719, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 80315f71-0986-4b48-8597-1380606673d5
  timestamp_start: 2025-12-02T10:33:41Z
  timestamp_end: 2025-12-02T10:36:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.82987008799682
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0e9c1efc-6f22-4584-b870-334aa0797c82
  timestamp_start: 2025-12-02T10:36:06Z
  timestamp_end: 2025-12-02T10:38:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.08654571599618
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 128d9f32-7362-4191-b953-78146adc4969
  timestamp_start: 2025-12-02T10:38:30Z
  timestamp_end: 2025-12-02T10:41:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 157.0502847720054
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 21 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (738, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (738, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9f24d2d8-fa81-4220-88c0-1255c8fc6abb
  timestamp_start: 2025-12-02T10:41:10Z
  timestamp_end: 2025-12-02T10:43:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.3719748709991
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f35e1094-2433-4401-ba0c-17b1f03bc916
  timestamp_start: 2025-12-02T10:43:36Z
  timestamp_end: 2025-12-02T10:45:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.7585486409953
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: aa5bb3f6-1338-4d29-9cba-b921bdacb58d
  timestamp_start: 2025-12-02T10:45:59Z
  timestamp_end: 2025-12-02T10:46:39Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.46976927400101
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 22 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (756, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (756, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9555f825-fdde-4df5-a4bb-bbdd83a44c22
  timestamp_start: 2025-12-02T10:46:43Z
  timestamp_end: 2025-12-02T10:47:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.469413111990434
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7e24d13f-a1e9-46c5-b9a0-a3d9047889d5
  timestamp_start: 2025-12-02T10:47:23Z
  timestamp_end: 2025-12-02T10:49:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.20877397200093
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2d085e78-2dd2-4e4d-b178-ee7aaa7879f5
  timestamp_start: 2025-12-02T10:49:46Z
  timestamp_end: 2025-12-02T10:52:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.46226694600773
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 23 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (775, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (775, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c8adb414-aecb-47b9-b4d6-385e3258753c
  timestamp_start: 2025-12-02T10:52:15Z
  timestamp_end: 2025-12-02T10:54:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.8715571470093
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 470e67d4-0eb3-4f11-bd62-21a27e5d576b
  timestamp_start: 2025-12-02T10:54:41Z
  timestamp_end: 2025-12-02T10:57:05Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.01155256100174
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 500f4d14-9cae-42b2-8022-e8aaafade44f
  timestamp_start: 2025-12-02T10:57:05Z
  timestamp_end: 2025-12-02T10:59:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22749419900356
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 24 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (801, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (801, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2d88e482-6326-49c0-8302-7693572f06d3
  timestamp_start: 2025-12-02T10:59:32Z
  timestamp_end: 2025-12-02T11:01:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.31706825899892
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f89c91f6-da9c-4936-b878-ad0dbb42e909
  timestamp_start: 2025-12-02T11:01:55Z
  timestamp_end: 2025-12-02T11:04:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.56861165599548
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a17b5436-0356-4bb5-ba51-f09db6f38f5c
  timestamp_start: 2025-12-02T11:04:19Z
  timestamp_end: 2025-12-02T11:06:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.8622737939877
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 25 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (827, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (827, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e290c79f-ec2a-45f6-8155-4db9a8b7594d
  timestamp_start: 2025-12-02T11:06:45Z
  timestamp_end: 2025-12-02T11:09:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.52773512501153
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0e2967f8-21de-4906-ba43-a06f2c53cd09
  timestamp_start: 2025-12-02T11:09:11Z
  timestamp_end: 2025-12-02T11:11:37Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.3126581969991
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c6f0ee92-5a92-40f5-9aad-1ba4f26496bb
  timestamp_start: 2025-12-02T11:11:37Z
  timestamp_end: 2025-12-02T11:14:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.1658533459995
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 26 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (853, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (853, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f22f3224-df40-4355-b621-4f032198af16
  timestamp_start: 2025-12-02T11:14:04Z
  timestamp_end: 2025-12-02T11:16:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.4294193980022
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 912ec166-84be-4935-8211-3dc4f077b196
  timestamp_start: 2025-12-02T11:16:30Z
  timestamp_end: 2025-12-02T11:18:54Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.23460609199537
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8b2fc981-b3e0-4549-a477-46eeee30cece
  timestamp_start: 2025-12-02T11:18:54Z
  timestamp_end: 2025-12-02T11:21:19Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.9201904720103
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 27 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (879, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (879, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cb454224-e33f-46bd-8fa1-2a919051046f
  timestamp_start: 2025-12-02T11:21:22Z
  timestamp_end: 2025-12-02T11:23:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.12846146599622
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c54b38e8-55be-495d-9572-4d58dff495d1
  timestamp_start: 2025-12-02T11:23:47Z
  timestamp_end: 2025-12-02T11:26:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.42817505401035
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9ab1a170-75bd-4141-a73c-1b3124b93328
  timestamp_start: 2025-12-02T11:26:11Z
  timestamp_end: 2025-12-02T11:28:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.02168374000757
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 28 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (904, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (904, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fb985a2d-acba-47a4-a102-33a2f6a689ed
  timestamp_start: 2025-12-02T11:28:37Z
  timestamp_end: 2025-12-02T11:29:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.476399409002624
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ac38dd68-10dd-4cc9-bc2b-f14aacbd9be4
  timestamp_start: 2025-12-02T11:29:17Z
  timestamp_end: 2025-12-02T11:29:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.533225074002985
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 14cf80d7-e932-4140-88b1-fe78403f02c2
  timestamp_start: 2025-12-02T11:29:56Z
  timestamp_end: 2025-12-02T11:32:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.6770416520012
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 29 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (917, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (917, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 7d8045e6-22c3-4ba1-b870-6d13614b4c50
  timestamp_start: 2025-12-02T11:32:24Z
  timestamp_end: 2025-12-02T11:34:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.47762169600173
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 64d50ed0-e543-4828-aed2-79b0b4e4509f
  timestamp_start: 2025-12-02T11:34:49Z
  timestamp_end: 2025-12-02T11:37:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.07593197800452
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5f6ad623-334c-43d5-88b9-bd5b5bdffc08
  timestamp_start: 2025-12-02T11:37:11Z
  timestamp_end: 2025-12-02T11:37:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.23594379599672
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 30 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (936, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (936, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c8736fba-5e2b-42bc-aa15-863cebbae72e
  timestamp_start: 2025-12-02T11:37:55Z
  timestamp_end: 2025-12-02T11:38:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.573742214997765
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fa28cb08-cc0f-4673-a53e-09a22ca20c0a
  timestamp_start: 2025-12-02T11:38:35Z
  timestamp_end: 2025-12-02T11:40:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.33492936300172
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0d52cdf0-dab9-4721-8bca-b4ca0edbd362
  timestamp_start: 2025-12-02T11:40:59Z
  timestamp_end: 2025-12-02T11:43:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5276447159995
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 31 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (955, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (955, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5f5dbab0-4369-47e3-95f6-e730b56a9e7f
  timestamp_start: 2025-12-02T11:43:27Z
  timestamp_end: 2025-12-02T11:45:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.42241406999528
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fa64a840-beff-4c0c-ad25-f0a76f68bd04
  timestamp_start: 2025-12-02T11:45:51Z
  timestamp_end: 2025-12-02T11:46:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.78686407399073
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c212510c-5043-4d90-b976-ef3d5498de10
  timestamp_start: 2025-12-02T11:46:31Z
  timestamp_end: 2025-12-02T11:47:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.82823247600754
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 32 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (968, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (968, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dd984985-5834-40d9-9f83-ecdac5c725e4
  timestamp_start: 2025-12-02T11:47:14Z
  timestamp_end: 2025-12-02T11:49:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.72108758499962
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a1e0458e-4f59-4198-9a32-517bff2ceddf
  timestamp_start: 2025-12-02T11:49:38Z
  timestamp_end: 2025-12-02T11:52:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.72363099300128
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 825b5efd-8e02-4833-8c8d-d064187ecc72
  timestamp_start: 2025-12-02T11:52:01Z
  timestamp_end: 2025-12-02T11:54:24Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.27742978600145
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 33 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (994, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (994, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2a19b7cc-a556-4703-a5a0-022a320d1dd1
  timestamp_start: 2025-12-02T11:54:27Z
  timestamp_end: 2025-12-02T11:56:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 149.5404290180013
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 27f3aa05-1e5f-407e-9c98-59f2add28f4d
  timestamp_start: 2025-12-02T11:56:57Z
  timestamp_end: 2025-12-02T11:59:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.77164438800537
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 76180e96-9807-4ff7-a620-5e9eaf0994e2
  timestamp_start: 2025-12-02T11:59:21Z
  timestamp_end: 2025-12-02T12:00:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.68120856600581
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 34 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1013, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1013, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 30a1157e-fc1c-4eee-b3bb-0faeab21a553
  timestamp_start: 2025-12-02T12:00:04Z
  timestamp_end: 2025-12-02T12:00:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.73322641800041
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8f098905-eafa-4a1f-ada2-e8dcb3bc4815
  timestamp_start: 2025-12-02T12:00:44Z
  timestamp_end: 2025-12-02T12:03:09Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.78370949999953
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 67efd3ba-96a9-4904-8297-8f3219bac8cf
  timestamp_start: 2025-12-02T12:03:09Z
  timestamp_end: 2025-12-02T12:05:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.62895983899944
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 35 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1032, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1032, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a411e1c8-cf31-47be-be4c-4265fcf5091f
  timestamp_start: 2025-12-02T12:05:36Z
  timestamp_end: 2025-12-02T12:08:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.17294772200694
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d892cce5-9baf-40fd-973c-832faee23718
  timestamp_start: 2025-12-02T12:08:00Z
  timestamp_end: 2025-12-02T12:10:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.13357511699724
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 369f135d-ab10-46e3-99aa-22fb26002029
  timestamp_start: 2025-12-02T12:10:25Z
  timestamp_end: 2025-12-02T12:12:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.67934428001172
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 36 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1059, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1059, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5d451b26-62d2-4118-aad0-d7c427fbc2e0
  timestamp_start: 2025-12-02T12:12:52Z
  timestamp_end: 2025-12-02T12:13:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 40.17227339799865
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dadb8d6e-2a0d-404a-a4cc-ca8961b93eae
  timestamp_start: 2025-12-02T12:13:32Z
  timestamp_end: 2025-12-02T12:14:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.74587485600205
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9d6de6a1-7689-4cc0-aec8-3a91428fa05a
  timestamp_start: 2025-12-02T12:14:12Z
  timestamp_end: 2025-12-02T12:16:38Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.99126603000332
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 37 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1072, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1072, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9c69b530-05b4-4b93-9c91-4877a050ffe4
  timestamp_start: 2025-12-02T12:16:41Z
  timestamp_end: 2025-12-02T12:17:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.38729816900741
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 42109d47-e8ae-43f2-a078-c74a41725f36
  timestamp_start: 2025-12-02T12:17:21Z
  timestamp_end: 2025-12-02T12:18:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.53590135600825
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 288fa139-3840-4658-b228-03ad07170c7b
  timestamp_start: 2025-12-02T12:18:00Z
  timestamp_end: 2025-12-02T12:18:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.64109912799904
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 38 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1079, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1079, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: c670d2b5-9198-4b9b-b2fb-3b0e66221f72
  timestamp_start: 2025-12-02T12:18:43Z
  timestamp_end: 2025-12-02T12:19:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.63325662599527
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5cc4c084-c5cd-4cfa-b8eb-0b1b62843f54
  timestamp_start: 2025-12-02T12:19:23Z
  timestamp_end: 2025-12-02T12:21:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.449069306007
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b739ea5d-58a4-4d36-8813-b22c02090fb4
  timestamp_start: 2025-12-02T12:21:47Z
  timestamp_end: 2025-12-02T12:24:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.9398497200018
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 39 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1098, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1098, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 73451f39-2e4f-4809-88f1-f47e183b79a2
  timestamp_start: 2025-12-02T12:24:15Z
  timestamp_end: 2025-12-02T12:26:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.07677212898852
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4c79ed0d-a254-42b6-952e-ca99dd8d5510
  timestamp_start: 2025-12-02T12:26:40Z
  timestamp_end: 2025-12-02T12:29:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.87517183499585
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 569a08d4-5a9f-4428-b650-144418f46884
  timestamp_start: 2025-12-02T12:29:04Z
  timestamp_end: 2025-12-02T12:31:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22771928699513
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 40 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1123, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1123, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 94a3bea8-c0f2-4aa8-a39a-4d9dd5ff6be4
  timestamp_start: 2025-12-02T12:31:32Z
  timestamp_end: 2025-12-02T12:33:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5885103019973
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fcbefafe-2dcb-469a-86b6-73e1b2e6a0b3
  timestamp_start: 2025-12-02T12:33:57Z
  timestamp_end: 2025-12-02T12:36:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.6798856099922
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: de4d6e47-090a-4cb0-b5c9-9e5e34db425c
  timestamp_start: 2025-12-02T12:36:21Z
  timestamp_end: 2025-12-02T12:37:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.54043766700488
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 41 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1142, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1142, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 198c5c38-fd31-4544-8c15-ef13ed8aceea
  timestamp_start: 2025-12-02T12:37:04Z
  timestamp_end: 2025-12-02T12:39:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.93108148100146
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e000be57-3c98-45ee-a6f8-717b6e80638d
  timestamp_start: 2025-12-02T12:39:29Z
  timestamp_end: 2025-12-02T12:41:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.08861200099636
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d8280214-5db8-4a31-b5c7-f4f2c379a6b0
  timestamp_start: 2025-12-02T12:41:53Z
  timestamp_end: 2025-12-02T12:44:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.82446256201365
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 42 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1167, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1167, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 54cebb5f-9cf6-4720-a56e-066b8e257b26
  timestamp_start: 2025-12-02T12:44:21Z
  timestamp_end: 2025-12-02T12:46:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.72839148298954
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b895244f-7866-4b6c-8b35-a7b037a443d9
  timestamp_start: 2025-12-02T12:46:46Z
  timestamp_end: 2025-12-02T12:49:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.89265376298863
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 293833b6-e7a5-44bd-a08b-9a9488b4cea3
  timestamp_start: 2025-12-02T12:49:11Z
  timestamp_end: 2025-12-02T12:51:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.42747901700204
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 43 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1192, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1192, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: db448ada-c2f5-44f3-931a-d8a545e9c366
  timestamp_start: 2025-12-02T12:51:38Z
  timestamp_end: 2025-12-02T12:54:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.65671957800805
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f1928c64-df0b-41db-9db6-b7837b469b15
  timestamp_start: 2025-12-02T12:54:00Z
  timestamp_end: 2025-12-02T12:56:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.36702966499433
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8fd6304f-cf4b-43a2-a7a7-23cc90a11fc1
  timestamp_start: 2025-12-02T12:56:25Z
  timestamp_end: 2025-12-02T12:58:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.97541649900086
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 44 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1217, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1217, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 87415551-3255-48a0-8271-3e0cbde0964d
  timestamp_start: 2025-12-02T12:58:52Z
  timestamp_end: 2025-12-02T13:01:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.4268711929908
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3c5f0294-f697-4b5e-9783-3cca6499c1a7
  timestamp_start: 2025-12-02T13:01:17Z
  timestamp_end: 2025-12-02T13:03:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.1175312950072
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 96efdf02-feb4-4523-8b46-7ad70f9f497d
  timestamp_start: 2025-12-02T13:03:41Z
  timestamp_end: 2025-12-02T13:06:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 162.7904725970002
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 45 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1244, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1244, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b1bb754a-9da1-4783-8c44-230b959d2ba2
  timestamp_start: 2025-12-02T13:06:27Z
  timestamp_end: 2025-12-02T13:07:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62526780400367
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f60173bf-3e85-4031-b02f-8a41e87b0d06
  timestamp_start: 2025-12-02T13:07:06Z
  timestamp_end: 2025-12-02T13:07:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.525711405993206
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d440e611-a1d5-447c-bcaa-0b6aca6fd2da
  timestamp_start: 2025-12-02T13:07:46Z
  timestamp_end: 2025-12-02T13:08:25Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62257660400064
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 46 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1250, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1250, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bbf460b5-86ff-49b0-92eb-27c06ec65a6b
  timestamp_start: 2025-12-02T13:08:29Z
  timestamp_end: 2025-12-02T13:10:54Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.17331447300967
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2baeed14-095f-4427-a03d-5c370550a5ab
  timestamp_start: 2025-12-02T13:10:54Z
  timestamp_end: 2025-12-02T13:11:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42370447900612
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 838cb7fd-e28a-456f-a4ce-c331ccda8e76
  timestamp_start: 2025-12-02T13:11:33Z
  timestamp_end: 2025-12-02T13:12:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.619360046999645
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 47 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1264, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1264, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1b6cbc7e-3590-4de3-87d9-6ebd6367b933
  timestamp_start: 2025-12-02T13:12:16Z
  timestamp_end: 2025-12-02T13:12:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57388345198706
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b906906a-469a-4ea9-b462-2403e51d3d37
  timestamp_start: 2025-12-02T13:12:56Z
  timestamp_end: 2025-12-02T13:13:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52349852900079
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 55aa931c-5237-4577-b2f4-9c38b3c5cf24
  timestamp_start: 2025-12-02T13:13:35Z
  timestamp_end: 2025-12-02T13:15:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.0271139749966
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 48 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1277, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1277, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 122c192a-b775-47c1-b52e-4fec03199ebb
  timestamp_start: 2025-12-02T13:16:03Z
  timestamp_end: 2025-12-02T13:18:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 148.07178339701204
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2cf24f03-a7c6-4596-81ab-5244b98af5f2
  timestamp_start: 2025-12-02T13:18:31Z
  timestamp_end: 2025-12-02T13:19:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.7247332239931
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6c65674b-cfdc-49b9-ae7e-540f4413a818
  timestamp_start: 2025-12-02T13:19:10Z
  timestamp_end: 2025-12-02T13:21:35Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22778053199
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 49 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1294, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1294, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: aed47327-ce67-4e2b-9dd7-c5bdfb7a5283
  timestamp_start: 2025-12-02T13:21:38Z
  timestamp_end: 2025-12-02T13:24:03Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.7275928050076
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fed1a14c-3fa5-4250-9ead-d4a986731e35
  timestamp_start: 2025-12-02T13:24:03Z
  timestamp_end: 2025-12-02T13:26:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.12338896800065
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2e059253-55fb-45e0-9674-78d67240a68e
  timestamp_start: 2025-12-02T13:26:28Z
  timestamp_end: 2025-12-02T13:27:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.47482582500379
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 50 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1308, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1308, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 08b024f5-1553-47ea-bf01-adfcf5bbbfcb
  timestamp_start: 2025-12-02T13:27:10Z
  timestamp_end: 2025-12-02T13:29:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.12070762999065
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 062cec58-d1fa-42d8-81cd-f9b1ec1d943c
  timestamp_start: 2025-12-02T13:29:34Z
  timestamp_end: 2025-12-02T13:31:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.71536391600966
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d753ccbf-2f0b-4f29-9b34-f563ea66107d
  timestamp_start: 2025-12-02T13:31:58Z
  timestamp_end: 2025-12-02T13:34:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.77581374000874
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 51 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1328, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1328, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f5cd801c-b6d4-4162-a194-c0e8f701a94a
  timestamp_start: 2025-12-02T13:34:25Z
  timestamp_end: 2025-12-02T13:36:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.57088982300775
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 290dafbe-a4a5-4c5e-bd94-8182d24c7fc6
  timestamp_start: 2025-12-02T13:36:50Z
  timestamp_end: 2025-12-02T13:39:14Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.4768296599941
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5ca55785-70fe-43ff-ab1a-161fd41517c3
  timestamp_start: 2025-12-02T13:39:14Z
  timestamp_end: 2025-12-02T13:39:54Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.5742637259973
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 52 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1343, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1343, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: be38e8f3-87c1-4bff-ac1d-d252f174ef39
  timestamp_start: 2025-12-02T13:39:57Z
  timestamp_end: 2025-12-02T13:40:37Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.574369836991536
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2b245879-0bc0-4d2b-b9dc-0477e53d29a6
  timestamp_start: 2025-12-02T13:40:37Z
  timestamp_end: 2025-12-02T13:43:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 150.58610925999528
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fe91dbe9-7e3c-41a6-902a-fa8fd362ecff
  timestamp_start: 2025-12-02T13:43:07Z
  timestamp_end: 2025-12-02T13:43:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.7743036049942
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 53 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1357, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1357, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 12cd5f08-cb31-4cd2-9b9f-4a3a94911ef1
  timestamp_start: 2025-12-02T13:43:50Z
  timestamp_end: 2025-12-02T13:46:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.41823534699506
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0478e97c-5b24-45e9-b602-19143ea28b48
  timestamp_start: 2025-12-02T13:46:17Z
  timestamp_end: 2025-12-02T13:48:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 146.1276117949892
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 56e2ca3b-f7e3-4f65-92bc-c2a0dc5bf977
  timestamp_start: 2025-12-02T13:48:43Z
  timestamp_end: 2025-12-02T13:51:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.07772818100057
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 54 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1382, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1382, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2d412b7c-010d-48a6-9371-89795d19d4b2
  timestamp_start: 2025-12-02T13:51:10Z
  timestamp_end: 2025-12-02T13:51:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52424036200682
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 197c98d2-a525-4206-87c6-bcfed5f9ac84
  timestamp_start: 2025-12-02T13:51:50Z
  timestamp_end: 2025-12-02T13:54:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.17067361500813
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dfd49b08-ba0e-4c32-beb7-659bb3f1cb61
  timestamp_start: 2025-12-02T13:54:15Z
  timestamp_end: 2025-12-02T13:56:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.76855565099686
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 55 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1401, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1401, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 31fdd1aa-4a52-4565-b179-06cd128c3156
  timestamp_start: 2025-12-02T13:56:43Z
  timestamp_end: 2025-12-02T13:57:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.8275138589961
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cd760a0d-98bc-4851-bf38-3faf0187e8e8
  timestamp_start: 2025-12-02T13:57:23Z
  timestamp_end: 2025-12-02T13:58:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.574650753012975
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a9d8d248-d7fa-4485-a8b3-e2b8e2961138
  timestamp_start: 2025-12-02T13:58:02Z
  timestamp_end: 2025-12-02T13:58:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.72412127100688
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 56 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1407, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1407, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4723001d-bc25-4fbf-846f-b1b46b6026b2
  timestamp_start: 2025-12-02T13:58:45Z
  timestamp_end: 2025-12-02T14:01:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5101154599979
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6589ca68-dd64-49ae-8403-d48037c4d887
  timestamp_start: 2025-12-02T14:01:10Z
  timestamp_end: 2025-12-02T14:01:49Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57452133100014
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1849b640-a3f3-456a-a3e6-6134543e1a25
  timestamp_start: 2025-12-02T14:01:49Z
  timestamp_end: 2025-12-02T14:04:13Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.3762914120016
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 57 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1425, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1425, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 945451dd-0be3-404c-b761-d21b989ff026
  timestamp_start: 2025-12-02T14:04:16Z
  timestamp_end: 2025-12-02T14:06:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.7175519940065
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3a449fc6-f962-4770-a598-3f2a834e6b68
  timestamp_start: 2025-12-02T14:06:40Z
  timestamp_end: 2025-12-02T14:09:04Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.8333458709967
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 12bee50d-115c-4eff-8edf-fb4f73436117
  timestamp_start: 2025-12-02T14:09:04Z
  timestamp_end: 2025-12-02T14:11:28Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.97005948299193
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 58 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1450, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1450, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 338ce6f6-bc88-4106-a86a-036f7d3db6fd
  timestamp_start: 2025-12-02T14:11:31Z
  timestamp_end: 2025-12-02T14:12:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42608876799932
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fc0475cd-2d80-45be-9764-cd8051a55e70
  timestamp_start: 2025-12-02T14:12:10Z
  timestamp_end: 2025-12-02T14:12:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.223430369005655
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5668bd0b-7ba2-4fc7-b6cb-2acc78764d4f
  timestamp_start: 2025-12-02T14:12:50Z
  timestamp_end: 2025-12-02T14:15:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.1237306510011
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 59 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1463, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1463, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: db5ca5c9-0235-4f96-a487-17b65636e6c2
  timestamp_start: 2025-12-02T14:15:18Z
  timestamp_end: 2025-12-02T14:17:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.91036065398657
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: eb8c45d3-da79-412f-8562-413cb15cf861
  timestamp_start: 2025-12-02T14:17:43Z
  timestamp_end: 2025-12-02T14:20:07Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.51859684000374
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 3bd432b1-8bb6-4fda-8c02-e539a1b623ed
  timestamp_start: 2025-12-02T14:20:07Z
  timestamp_end: 2025-12-02T14:22:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.07171122200089
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 60 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1488, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1488, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 304efd5d-71de-47b0-9fb6-b9648a4fe3d4
  timestamp_start: 2025-12-02T14:22:32Z
  timestamp_end: 2025-12-02T14:23:11Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.52294915600214
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e50092d2-e95e-4cbc-b575-096b032fa50b
  timestamp_start: 2025-12-02T14:23:11Z
  timestamp_end: 2025-12-02T14:23:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.27274468100222
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: efb8d99f-7475-4654-b59f-57dbdea6a79b
  timestamp_start: 2025-12-02T14:23:51Z
  timestamp_end: 2025-12-02T14:26:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.92357049000566
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 61 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1501, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1501, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 53deead9-f2a0-408a-9c6c-21529e8b65fe
  timestamp_start: 2025-12-02T14:26:18Z
  timestamp_end: 2025-12-02T14:26:57Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.323531931004254
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5785d1c9-96dd-4ecb-a770-ac721b0ef491
  timestamp_start: 2025-12-02T14:26:57Z
  timestamp_end: 2025-12-02T14:27:37Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62138688299456
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dc33697b-4bc6-4b41-ba9d-c36049fd136f
  timestamp_start: 2025-12-02T14:27:37Z
  timestamp_end: 2025-12-02T14:30:02Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.77437869399728
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 62 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1514, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1514, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 20098290-ae4d-4244-86ae-ca83eebf9686
  timestamp_start: 2025-12-02T14:30:05Z
  timestamp_end: 2025-12-02T14:32:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5714447930077
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d79e4b1c-ab33-4c87-a79e-c775e6a3acb1
  timestamp_start: 2025-12-02T14:32:29Z
  timestamp_end: 2025-12-02T14:34:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.5708091770066
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 16b8c565-6e44-4e0b-932b-2f3c34cc1c4f
  timestamp_start: 2025-12-02T14:34:53Z
  timestamp_end: 2025-12-02T14:37:17Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.26477665999846
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 63 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1536, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1536, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 16ac5d62-966b-416e-8f5c-69196d484b0b
  timestamp_start: 2025-12-02T14:37:21Z
  timestamp_end: 2025-12-02T14:39:46Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.17610114799754
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d0ee7df3-4db8-4acc-9b84-94d90d70a765
  timestamp_start: 2025-12-02T14:39:46Z
  timestamp_end: 2025-12-02T14:42:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.97659152100096
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5dfdb36a-2586-4655-8c60-7da17a927e56
  timestamp_start: 2025-12-02T14:42:10Z
  timestamp_end: 2025-12-02T14:44:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.37711097599822
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 64 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1554, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1554, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a0db4f43-9d33-4fe2-aaa6-a297c77dc21a
  timestamp_start: 2025-12-02T14:44:37Z
  timestamp_end: 2025-12-02T14:47:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.9266521600075
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6e94a9ef-8396-42a6-a917-f4b2322f54e3
  timestamp_start: 2025-12-02T14:47:01Z
  timestamp_end: 2025-12-02T14:49:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.5795796940074
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 243bc59f-2671-4b5d-b51d-dd2d9a5473d9
  timestamp_start: 2025-12-02T14:49:27Z
  timestamp_end: 2025-12-02T14:51:51Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.82704779600317
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 65 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1572, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1572, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: cff012eb-0a49-4312-9a16-467ffe2643f0
  timestamp_start: 2025-12-02T14:51:54Z
  timestamp_end: 2025-12-02T14:54:18Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.07616907800548
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b12b6dc8-bd54-4032-81e1-0c0bce53d487
  timestamp_start: 2025-12-02T14:54:18Z
  timestamp_end: 2025-12-02T14:56:43Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5770752929966
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d829ecf6-5b04-4414-8916-1eac5dbdc47a
  timestamp_start: 2025-12-02T14:56:43Z
  timestamp_end: 2025-12-02T14:59:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.87498785200296
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 66 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1592, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1592, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 728d3d7c-2aa4-4e5a-80bf-785d25b049c1
  timestamp_start: 2025-12-02T14:59:10Z
  timestamp_end: 2025-12-02T15:01:34Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.66841344400018
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 6d36f919-65dc-4cca-af94-a66f995e3971
  timestamp_start: 2025-12-02T15:01:34Z
  timestamp_end: 2025-12-02T15:03:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.27583663300902
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1323afb5-7a80-495b-ad9e-a15ef51afce3
  timestamp_start: 2025-12-02T15:03:59Z
  timestamp_end: 2025-12-02T15:06:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.77821958699496
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 67 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1613, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1613, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a7ad8a22-761e-4f0b-b684-0ad1c0b54125
  timestamp_start: 2025-12-02T15:06:27Z
  timestamp_end: 2025-12-02T15:07:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.67362403399602
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 1e5922b3-a2a2-4f44-bfac-02e0bbdd62ad
  timestamp_start: 2025-12-02T15:07:06Z
  timestamp_end: 2025-12-02T15:09:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22061062700232
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fc2b396c-464a-4a21-adaf-ae7a5f1d0421
  timestamp_start: 2025-12-02T15:09:31Z
  timestamp_end: 2025-12-02T15:10:10Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.77643753201119
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 68 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1626, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1626, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: da769eef-b225-4ec6-8293-daafe2279efd
  timestamp_start: 2025-12-02T15:10:14Z
  timestamp_end: 2025-12-02T15:10:53Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.524801558989566
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0fa14618-9ad3-4b1b-a986-ef3239966c35
  timestamp_start: 2025-12-02T15:10:53Z
  timestamp_end: 2025-12-02T15:11:33Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.4739935349935
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4e795bab-2996-4013-80e3-8102593b4776
  timestamp_start: 2025-12-02T15:11:33Z
  timestamp_end: 2025-12-02T15:12:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.42364007400465
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 69 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1633, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1633, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dc594978-88ce-41d9-b60b-954e0c0298c7
  timestamp_start: 2025-12-02T15:12:15Z
  timestamp_end: 2025-12-02T15:14:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.22732577100396
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0a534828-6fb8-41d6-9e36-22a91c45e2d4
  timestamp_start: 2025-12-02T15:14:40Z
  timestamp_end: 2025-12-02T15:15:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57596018300683
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: dc30f7cc-efd6-4f86-8598-74161519920f
  timestamp_start: 2025-12-02T15:15:20Z
  timestamp_end: 2025-12-02T15:15:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.37290057800419
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 70 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1646, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1646, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 08a6c725-80c2-4953-b8e9-1e6e039def75
  timestamp_start: 2025-12-02T15:16:03Z
  timestamp_end: 2025-12-02T15:16:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.67392673100403
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5322780c-1632-41cb-bf95-2ea57f578d5a
  timestamp_start: 2025-12-02T15:16:42Z
  timestamp_end: 2025-12-02T15:17:22Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.322507828997914
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f13527d5-ff81-4b61-ba3e-8471011e5dad
  timestamp_start: 2025-12-02T15:17:22Z
  timestamp_end: 2025-12-02T15:19:45Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.6136788899894
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 71 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1659, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1659, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: b3c928f3-c12d-426b-a377-f79b957143d1
  timestamp_start: 2025-12-02T15:19:49Z
  timestamp_end: 2025-12-02T15:22:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.3084749700065
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 0f063455-de34-48d6-8992-08a8aeb5d529
  timestamp_start: 2025-12-02T15:22:12Z
  timestamp_end: 2025-12-02T15:24:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.3117878419871
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 61e2108a-0352-43fb-acf6-560791c54b1a
  timestamp_start: 2025-12-02T15:24:36Z
  timestamp_end: 2025-12-02T15:27:00Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.7589415530092
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 72 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1684, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1684, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 29528ccf-c207-4f2f-8f3f-f4c73e3d07ab
  timestamp_start: 2025-12-02T15:27:03Z
  timestamp_end: 2025-12-02T15:29:29Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.71007523400476
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4f5dd9c5-773b-4388-9d0e-15493bfe5047
  timestamp_start: 2025-12-02T15:29:29Z
  timestamp_end: 2025-12-02T15:31:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.9019577309955
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d3c6b20c-de01-4514-81ca-839dba29c3af
  timestamp_start: 2025-12-02T15:31:52Z
  timestamp_end: 2025-12-02T15:34:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.25738298799843
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 73 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1709, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1709, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fe32cea2-7bfd-4d9c-b4a1-f905507a2d92
  timestamp_start: 2025-12-02T15:34:19Z
  timestamp_end: 2025-12-02T15:36:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.02321734400175
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 22371d9b-d3f4-48f7-96ae-25a93d85cc7b
  timestamp_start: 2025-12-02T15:36:44Z
  timestamp_end: 2025-12-02T15:39:08Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.86961037199944
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e3c5772f-a8cb-4def-8375-a10196ad0869
  timestamp_start: 2025-12-02T15:39:08Z
  timestamp_end: 2025-12-02T15:41:32Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.22262084498652
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 74 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1734, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1734, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 881bd42b-ce25-4e7c-8121-e06cb9e291a9
  timestamp_start: 2025-12-02T15:41:36Z
  timestamp_end: 2025-12-02T15:44:01Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.07356442899618
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f53590ad-d74a-475d-a4ec-399730a162d2
  timestamp_start: 2025-12-02T15:44:01Z
  timestamp_end: 2025-12-02T15:46:24Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.67264987700037
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5572cdce-0587-49ca-92dd-de5e2d528f22
  timestamp_start: 2025-12-02T15:46:24Z
  timestamp_end: 2025-12-02T15:48:48Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.575749599986
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 75 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1759, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1759, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: aa5213a7-95ea-4b4e-be9d-8895421805c3
  timestamp_start: 2025-12-02T15:48:51Z
  timestamp_end: 2025-12-02T15:49:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.3199116600008
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 365df6e3-4037-49e6-9a2b-05d929fbab31
  timestamp_start: 2025-12-02T15:49:31Z
  timestamp_end: 2025-12-02T15:51:56Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.66720351899858
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 4dc64fef-3fd8-4c59-a6c7-5d54be376029
  timestamp_start: 2025-12-02T15:51:56Z
  timestamp_end: 2025-12-02T15:54:21Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.8240058980009
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 76 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1776, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1776, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f87ed286-e367-44c5-89ed-09bc6a252cae
  timestamp_start: 2025-12-02T15:54:24Z
  timestamp_end: 2025-12-02T15:56:50Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 145.37849857199762
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a7d5f05a-6279-4e75-80d0-007fd0c349ef
  timestamp_start: 2025-12-02T15:56:50Z
  timestamp_end: 2025-12-02T15:59:12Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 142.12456169001234
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 83b3dff7-811d-41d4-b470-04ad6221050a
  timestamp_start: 2025-12-02T15:59:12Z
  timestamp_end: 2025-12-02T15:59:52Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.62581575399963
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 77 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1796, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1796, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 9f256bc2-db6d-4c7b-bdeb-b99402799b0b
  timestamp_start: 2025-12-02T15:59:55Z
  timestamp_end: 2025-12-02T16:00:36Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 41.37117107999802
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 20fecaf2-cc38-446c-8289-d193a468d938
  timestamp_start: 2025-12-02T16:00:36Z
  timestamp_end: 2025-12-02T16:01:16Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.57333620300051
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d818ad83-bf00-49ba-a679-86beec1dab11
  timestamp_start: 2025-12-02T16:01:16Z
  timestamp_end: 2025-12-02T16:03:41Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.86938629701035
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 78 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1809, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1809, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: fa58062b-4869-4ed3-ac9d-05000a6f970a
  timestamp_start: 2025-12-02T16:03:44Z
  timestamp_end: 2025-12-02T16:04:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.51672895999218
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: e576bba6-5c42-4b98-a077-9a6dca4a45d1
  timestamp_start: 2025-12-02T16:04:23Z
  timestamp_end: 2025-12-02T16:05:03Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.519834744001855
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 85e98d94-f02f-4110-a582-22130324ebc2
  timestamp_start: 2025-12-02T16:05:03Z
  timestamp_end: 2025-12-02T16:07:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.41144457399787
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 79 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1822, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1822, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 518ae4f6-05cf-4c79-b06c-e651940eba03
  timestamp_start: 2025-12-02T16:07:30Z
  timestamp_end: 2025-12-02T16:09:55Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.72659604999353
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: bfee5484-61e1-41f1-8967-2e3cde840145
  timestamp_start: 2025-12-02T16:09:55Z
  timestamp_end: 2025-12-02T16:12:20Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.5772802099964
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 2acf6a1f-724a-4b6f-816b-b67e14750180
  timestamp_start: 2025-12-02T16:12:20Z
  timestamp_end: 2025-12-02T16:14:44Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.12134266199428
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 80 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1848, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1848, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5b364353-06c5-4216-a4da-eef876e3cbb0
  timestamp_start: 2025-12-02T16:14:47Z
  timestamp_end: 2025-12-02T16:15:27Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.6211364690098
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: eef6491d-b72a-41e9-9c8d-bc764dc7ed2e
  timestamp_start: 2025-12-02T16:15:27Z
  timestamp_end: 2025-12-02T16:16:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 39.619847039008164
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: f06df37c-a82a-424c-89b1-4c56656e8e7b
  timestamp_start: 2025-12-02T16:16:06Z
  timestamp_end: 2025-12-02T16:18:31Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.97269154099922
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 81 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1858, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1858, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: a4183e9d-a7cb-4c01-acf6-ad20d4a6f564
  timestamp_start: 2025-12-02T16:18:35Z
  timestamp_end: 2025-12-02T16:20:59Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.67902441800106
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 98652961-cd79-4236-94db-990b36864c17
  timestamp_start: 2025-12-02T16:20:59Z
  timestamp_end: 2025-12-02T16:23:24Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.37843086599605
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8238c5cf-ecb0-4752-a801-1650b07bca88
  timestamp_start: 2025-12-02T16:23:24Z
  timestamp_end: 2025-12-02T16:25:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.5266482750012
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 82 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1884, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1884, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: ae105ce0-12a3-46fe-a7fa-f52425a98597
  timestamp_start: 2025-12-02T16:25:50Z
  timestamp_end: 2025-12-02T16:28:15Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.92746238299878
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5c785e05-2158-4c7b-8bb2-1db6e9c09aa7
  timestamp_start: 2025-12-02T16:28:15Z
  timestamp_end: 2025-12-02T16:30:40Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.72137255201233
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 8aa1b7ca-8829-4da5-8d01-a2ca579d284a
  timestamp_start: 2025-12-02T16:30:41Z
  timestamp_end: 2025-12-02T16:33:14Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 153.71479036399978
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 83 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1903, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1903, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 76a2a859-1c3b-43e1-bcd6-fdfdd2a24e37
  timestamp_start: 2025-12-02T16:33:17Z
  timestamp_end: 2025-12-02T16:35:42Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.4283354779909
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 71ec0eb8-0c7e-4a20-b22c-978332869f2f
  timestamp_start: 2025-12-02T16:35:42Z
  timestamp_end: 2025-12-02T16:38:06Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 143.72950571500405
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 561ab628-36ce-4a88-95dd-bb624a18e482
  timestamp_start: 2025-12-02T16:38:06Z
  timestamp_end: 2025-12-02T16:40:30Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.74256025899376
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 84 ===
[INFO] Loaded total 0 runtime entries.
[WARN] runtime_by_source is empty – check that your sam_runtime.csv or sam_runtimes.txt is in the working directory.
currently on file of case : analysis/temp_test ; run : jsalt1 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt1.csv 

[REPORT] analysis/temp_test: 12/17 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt2 

[OK] Wrote 17 rows → analysis/temp_test_analysis/combined_last_lines_jsalt2.csv 

[REPORT] analysis/temp_test: 23/34 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt3 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt3.csv 

[REPORT] analysis/temp_test: 31/49 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt

currently on file of case : analysis/temp_test ; run : jsalt4 

[OK] Wrote 15 rows → analysis/temp_test_analysis/combined_last_lines_jsalt4.csv 

[REPORT] analysis/temp_test: 40/64 files reached an allowed end_time.

[OK] Wrote per-case report → analysis/temp_test_analysis/case_report.csv
[OK] Wrote summary → analysis/temp_test_analysis/summary.txt


--- LOADED FILE: analysis/temp_test_analysis/case_report.csv ---
['case', 'source_file', 'reached_end_any', 'last_time', 'matched_end_time', 'prefixes', 'script_runtime', 'TP1', 'TP2', 'TP3', 'TP6', 'TP_TS', 'TS_vel', 'TopL_velocity', 'delta_Temp_TP6-TP2', 'downcomer_out_velocity', 'massFlowRate']
Num rows: 64

DEBUG BEFORE reached_end_any FILTER:
Second-order nodes_mult available (raw CSVs):
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG AFTER reached_end_any FILTER:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------

DEBUG nodes_mult PARSING — NaN rows:
Empty DataFrame
Columns: [prefixes, order, source_file]
Index: []
Total NaN rows: 0
---------------------------------------

DEBUG second-order nodes_mult that reached FULL_DF:
  min / max / nunique by prefix:
Empty DataFrame
Columns: [min, max, nunique]
Index: []

  full unique nodes_mult by prefix:
Series([], Name: nodes_mult, dtype: int64)
---------------------------------------
[RUNTIME PLOT] Skipping prefix 'jsalt1': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt2': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt3': no data for any order.
[RUNTIME PLOT] Skipping prefix 'jsalt4': no data for any order.
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt1': analysis/plots/Runtime_plots/jsalt1_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt2': analysis/plots/Runtime_plots/jsalt2_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt3': analysis/plots/Runtime_plots/jsalt3_runtime_vs_nodes_mult.png
[RUNTIME PLOTS] Saved runtime plot for prefix 'jsalt4': analysis/plots/Runtime_plots/jsalt4_runtime_vs_nodes_mult.png
Wrote full analysis to: analysis/validation_analysis_full.csv
Wrote paper table to: analysis/validation_analysis_paper_table.csv
Wrote summary to: analysis/validation_analysis_summary.csv
=== SAM Optimizer v0: suggest_and_run mode ===
[suggest_and_run] Cases to run: ['jsalt1']
[suggest_and_run] Will consider top 3 candidates and run up to 3 of them.
=== SAM Optimizer v0: Surrogate-based recommender ===
[data_handler] Loaded validation analysis from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/validation_analysis_full.csv
[data_handler] Shape: (40, 53)
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1921, 11)
[data_handler] Hyperparam table built from runtime log:
                   input_basename  htc  node_multiplier  ...     T_c    T_h    h_amb
0       jsalt1_nodes_mult_by_12.i  NaN               12  ...  442.15  444.0  50000.0
1  jsalt1_nodes_mult_by_12_ord1.i  NaN               12  ...  442.15  444.0  50000.0
2  jsalt1_nodes_mult_by_12_ord2.i  NaN               12  ...  442.15  444.0  50000.0
3  jsalt1_nodes_mult_by_16_ord1.i  NaN               16  ...  442.15  444.0  50000.0
4  jsalt1_nodes_mult_by_16_ord2.i  NaN               16  ...     NaN    NaN      NaN

[5 rows x 8 columns]
[data_handler] Loaded runtime log from: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/runtimes_master.csv
[data_handler] Runtime log shape: (1921, 11)
[data_handler] Runtime aggregation by input_basename:
                   input_basename  runtime_merged_sec
0       jsalt1_nodes_mult_by_12.i           26.905124
1  jsalt1_nodes_mult_by_12_ord1.i           10.032998
2  jsalt1_nodes_mult_by_12_ord2.i           40.484778
3  jsalt1_nodes_mult_by_16_ord1.i           12.326543
4  jsalt1_nodes_mult_by_16_ord2.i           31.904634
[data_handler] INFO: 'runtime_merged_sec' not found; using 'runtime_merged_sec_x' as runtime column.
[data_handler] Total rows in validation_analysis_full: 40
[data_handler] Rows with non-NaN          rmse_K: 40
[data_handler] Rows with non-NaN runtime_merged_sec_x: 40
[data_handler] Rows with both non-NaN targets   : 40
[data_handler] After drop_na_targets, rows kept: 40
[optimizer] Loaded dataset with 40 rows.
[models] Training surrogates on 40 samples with features: ['nodes_mult', 'h_amb', 'T_0', 'T_c', 'T_h']
[models] Error range   : [3.493, 4.865]
[models] Runtime range : [4.324, 290.1]
[optimizer] Generated 3125 candidate hyperparameter combos.
   nodes_mult    h_amb    T_0    T_c    T_h
0           6  50000.0  440.0  440.0  442.0
1           6  50000.0  440.0  440.0  452.5
2           6  50000.0  440.0  440.0  463.0
3           6  50000.0  440.0  440.0  473.5
4           6  50000.0  440.0  440.0  484.0
[optimizer] Runtime cap: 420.00 s
[optimizer] Feasible candidates (pred runtime <= cap): 3125/3125

=== Top candidate hyperparameters (surrogate-based) ===
   nodes_mult    h_amb    T_0  ...  pred_runtime     score  feasible_runtime
0          12  50000.0  471.5  ...     68.728427  0.161682              True
1          12  50000.0  471.5  ...     68.728427  0.161682              True
2          12  50000.0  471.5  ...     68.728427  0.161682              True

[3 rows x 9 columns]

Interpretation:
  - 'pred_error'   : surrogate-predicted error (e.g., RMSE in K).
  - 'pred_runtime' : surrogate-predicted runtime in seconds.
  - 'score'        : weighted combination of normalized error and runtime; lower is better.
  - 'feasible_runtime' : True if pred_runtime <= runtime cap.
[suggest_and_run] Selected 3 candidate(s) to run.

--------------------------------------------------
[suggest_and_run] Candidate #1:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 0, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: d53bf472-88cc-4e53-b972-108e7f8a88eb
  timestamp_start: 2025-12-02T16:40:34Z
  timestamp_end: 2025-12-02T16:42:58Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.46401578199584
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #2:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 470.0
T_h                 484.0
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 1, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 99818c14-a830-403e-80bd-d179af4644ab
  timestamp_start: 2025-12-02T16:42:58Z
  timestamp_end: 2025-12-02T16:45:23Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.81901066399587
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log

--------------------------------------------------
[suggest_and_run] Candidate #3:
nodes_mult             12
h_amb             50000.0
T_0                 471.5
T_c                 480.0
T_h                 473.5
pred_error        3.67755
pred_runtime    68.728427
score            0.161682
Name: 2, dtype: object
[suggest_and_run] Launching SAM run for case=jsalt1, template=jsalt1.i, hyperparams={'T_c': 442.15, 'T_h': 444.0, 'T_0': 471.5, 'h_amb': 50000.0, 'node_multiplier': 12}, timeout=420.0s
[suggest_and_run] Run summary for jsalt1:
  run_id: 5e5e5a42-2af2-4f79-97ed-5124c9609c00
  timestamp_start: 2025-12-02T16:45:23Z
  timestamp_end: 2025-12-02T16:47:47Z
  case: jsalt1
  sam_input_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.i
  output_dir: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development
  status: fail
  return_code: 1
  runtime_sec: 144.46766992899938
  timeout_sec: None
  hyperparams_json: {"T_0": 471.5, "T_c": 442.15, "T_h": 444.0, "h_amb": 50000.0, "node_multiplier": 12}
  log_file_path: /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12.log
[optimizer] Cleaning and organizing SAM outputs...
[cleanup] Failed to remove /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[move] Moved jsalt1_nodes_mult_by_12_csv.csv → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.i → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Moved jsalt1_nodes_mult_by_12.log → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis
[move] Failed to move /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/temp_test_analysis/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
[optimizer] Re-running analysis scripts...
[optimizer] Removing leftover file: jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not delete jsalt1_nodes_mult_by_12_out_cp: [Errno 21] Is a directory: '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/Templates/jsalt1_nodes_mult_by_12_out_cp'
[optimizer] Moving jsalt1_nodes_mult_by_12_out_cp → /work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp
[optimizer] WARNING: Could not move jsalt1_nodes_mult_by_12_out_cp: Destination path '/work/09748/andresfierro231/ls6/projects/physor2026_andrew/active_development/analysis/analysis/temp_test/jsalt1_nodes_mult_by_12_out_cp/jsalt1_nodes_mult_by_12_out_cp' already exists
=== [JOB A] Iteration 85 ===
